ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"usb.c"
  16              		.section	.text.usbInit,"ax",%progbits
  17              		.align	2
  18              		.p2align 4,,15
  19              		.global	usbInit
  20              		.thumb
  21              		.thumb_func
  22              		.type	usbInit, %function
  23              	usbInit:
  24              		@ args = 0, pretend = 0, frame = 0
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26              		@ link register save eliminated.
  27 0000 FFF7FEBF 		b	usb_lld_init
  28              		.size	usbInit, .-usbInit
  29 0004 AFF30080 		.section	.text.usbObjectInit,"ax",%progbits
  29      AFF30080 
  29      AFF30080 
  30              		.align	2
  31              		.p2align 4,,15
  32              		.global	usbObjectInit
  33              		.thumb
  34              		.thumb_func
  35              		.type	usbObjectInit, %function
  36              	usbObjectInit:
  37              		@ args = 0, pretend = 0, frame = 0
  38              		@ frame_needed = 0, uses_anonymous_args = 0
  39              		@ link register save eliminated.
  40 0000 0023     		movs	r3, #0
  41 0002 0122     		movs	r2, #1
  42 0004 0270     		strb	r2, [r0]
  43 0006 4360     		str	r3, [r0, #4]
  44 0008 C361     		str	r3, [r0, #28]
  45 000a 8362     		str	r3, [r0, #40]
  46 000c 0362     		str	r3, [r0, #32]
  47 000e C362     		str	r3, [r0, #44]
  48 0010 4362     		str	r3, [r0, #36]
  49 0012 0363     		str	r3, [r0, #48]
  50 0014 0381     		strh	r3, [r0, #8]	@ movhi
  51 0016 4381     		strh	r3, [r0, #10]	@ movhi
  52 0018 7047     		bx	lr
  53              		.size	usbObjectInit, .-usbObjectInit
  54 001a 00BFAFF3 		.section	.text.usbStart,"ax",%progbits
  54      0080
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 2


  55              		.align	2
  56              		.p2align 4,,15
  57              		.global	usbStart
  58              		.thumb
  59              		.thumb_func
  60              		.type	usbStart, %function
  61              	usbStart:
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64 0000 0029     		cmp	r1, #0
  65 0002 18BF     		it	ne
  66 0004 0028     		cmpne	r0, #0
  67 0006 70B5     		push	{r4, r5, r6, lr}
  68 0008 0446     		mov	r4, r0
  69 000a 0E46     		mov	r6, r1
  70 000c 20D0     		beq	.L10
  71              	.L4:
  72 000e 2023     		movs	r3, #32
  73              	@ 273 "chibios/os/hal/src/usb.c" 1
  74 0010 83F31188 		msr     BASEPRI, r3
  75              	@ 0 "" 2
  76              		.thumb
  77 0014 FFF7FEFF 		bl	dbg_check_lock
  78 0018 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
  79 001a 013B     		subs	r3, r3, #1
  80 001c DBB2     		uxtb	r3, r3
  81 001e 012B     		cmp	r3, #1
  82 0020 05D9     		bls	.L5
  83 0022 40F20000 		movw	r0, #:lower16:.LC2
  84 0026 C0F20000 		movt	r0, #:upper16:.LC2
  85 002a FFF7FEFF 		bl	chDbgPanic
  86              	.L5:
  87 002e 0025     		movs	r5, #0
  88 0030 2046     		mov	r0, r4
  89 0032 6660     		str	r6, [r4, #4]
  90 0034 E560     		str	r5, [r4, #12]
  91 0036 2561     		str	r5, [r4, #16]
  92 0038 6561     		str	r5, [r4, #20]
  93 003a A561     		str	r5, [r4, #24]
  94 003c FFF7FEFF 		bl	usb_lld_start
  95 0040 0223     		movs	r3, #2
  96 0042 2370     		strb	r3, [r4]
  97 0044 FFF7FEFF 		bl	dbg_check_unlock
  98 0048 2B46     		mov	r3, r5
  99              	@ 281 "chibios/os/hal/src/usb.c" 1
 100 004a 83F31188 		msr     BASEPRI, r3
 101              	@ 0 "" 2
 102              		.thumb
 103 004e 70BD     		pop	{r4, r5, r6, pc}
 104              	.L10:
 105 0050 40F20000 		movw	r0, #:lower16:.LC0
 106 0054 40F20001 		movw	r1, #:lower16:.LC1
 107 0058 C0F20000 		movt	r0, #:upper16:.LC0
 108 005c C0F20001 		movt	r1, #:upper16:.LC1
 109 0060 40F20F12 		movw	r2, #271
 110 0064 FFF7FEFF 		bl	chDbgPanic3
 111 0068 D1E7     		b	.L4
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 3


 112              		.size	usbStart, .-usbStart
 113 006a 00BFAFF3 		.section	.text.usbStop,"ax",%progbits
 113      0080
 114              		.align	2
 115              		.p2align 4,,15
 116              		.global	usbStop
 117              		.thumb
 118              		.thumb_func
 119              		.type	usbStop, %function
 120              	usbStop:
 121              		@ args = 0, pretend = 0, frame = 0
 122              		@ frame_needed = 0, uses_anonymous_args = 0
 123 0000 10B5     		push	{r4, lr}
 124 0002 0446     		mov	r4, r0
 125 0004 D0B1     		cbz	r0, .L14
 126              	.L12:
 127 0006 2023     		movs	r3, #32
 128              	@ 295 "chibios/os/hal/src/usb.c" 1
 129 0008 83F31188 		msr     BASEPRI, r3
 130              	@ 0 "" 2
 131              		.thumb
 132 000c FFF7FEFF 		bl	dbg_check_lock
 133 0010 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 134 0012 013B     		subs	r3, r3, #1
 135 0014 DBB2     		uxtb	r3, r3
 136 0016 032B     		cmp	r3, #3
 137 0018 05D9     		bls	.L13
 138 001a 40F20000 		movw	r0, #:lower16:.LC4
 139 001e C0F20000 		movt	r0, #:upper16:.LC4
 140 0022 FFF7FEFF 		bl	chDbgPanic
 141              	.L13:
 142 0026 2046     		mov	r0, r4
 143 0028 FFF7FEFF 		bl	usb_lld_stop
 144 002c 0123     		movs	r3, #1
 145 002e 2370     		strb	r3, [r4]
 146 0030 FFF7FEFF 		bl	dbg_check_unlock
 147 0034 0023     		movs	r3, #0
 148              	@ 301 "chibios/os/hal/src/usb.c" 1
 149 0036 83F31188 		msr     BASEPRI, r3
 150              	@ 0 "" 2
 151              		.thumb
 152 003a 10BD     		pop	{r4, pc}
 153              	.L14:
 154 003c 40F20000 		movw	r0, #:lower16:.LC3
 155 0040 40F20001 		movw	r1, #:lower16:.LC1
 156 0044 C0F20000 		movt	r0, #:upper16:.LC3
 157 0048 C0F20001 		movt	r1, #:upper16:.LC1
 158 004c 40F22512 		movw	r2, #293
 159 0050 FFF7FEFF 		bl	chDbgPanic3
 160 0054 D7E7     		b	.L12
 161              		.size	usbStop, .-usbStop
 162 0056 00BFAFF3 		.section	.text.usbInitEndpointI,"ax",%progbits
 162      0080AFF3 
 162      0080
 163              		.align	2
 164              		.p2align 4,,15
 165              		.global	usbInitEndpointI
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 4


 166              		.thumb
 167              		.thumb_func
 168              		.type	usbInitEndpointI, %function
 169              	usbInitEndpointI:
 170              		@ args = 0, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 173 0002 0446     		mov	r4, r0
 174 0004 1546     		mov	r5, r2
 175 0006 0E46     		mov	r6, r1
 176 0008 FFF7FEFF 		bl	chDbgCheckClassI
 177 000c 002D     		cmp	r5, #0
 178 000e 18BF     		it	ne
 179 0010 002C     		cmpne	r4, #0
 180 0012 25D0     		beq	.L36
 181              	.L16:
 182 0014 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 183 0016 042B     		cmp	r3, #4
 184 0018 05D0     		beq	.L17
 185 001a 40F20000 		movw	r0, #:lower16:.LC6
 186 001e C0F20000 		movt	r0, #:upper16:.LC6
 187 0022 FFF7FEFF 		bl	chDbgPanic
 188              	.L17:
 189 0026 04EB8607 		add	r7, r4, r6, lsl #2
 190 002a FB68     		ldr	r3, [r7, #12]
 191 002c 2BB1     		cbz	r3, .L18
 192 002e 40F20000 		movw	r0, #:lower16:.LC7
 193 0032 C0F20000 		movt	r0, #:upper16:.LC7
 194 0036 FFF7FEFF 		bl	chDbgPanic
 195              	.L18:
 196 003a 6869     		ldr	r0, [r5, #20]
 197 003c 18B1     		cbz	r0, .L19
 198 003e 0021     		movs	r1, #0
 199 0040 1422     		movs	r2, #20
 200 0042 FFF7FEFF 		bl	memset
 201              	.L19:
 202 0046 A869     		ldr	r0, [r5, #24]
 203 0048 18B1     		cbz	r0, .L20
 204 004a 0021     		movs	r1, #0
 205 004c 1422     		movs	r2, #20
 206 004e FFF7FEFF 		bl	memset
 207              	.L20:
 208 0052 FD60     		str	r5, [r7, #12]
 209 0054 2046     		mov	r0, r4
 210 0056 3146     		mov	r1, r6
 211 0058 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 212 005c FFF7FEBF 		b	usb_lld_init_endpoint
 213              	.L36:
 214 0060 40F20000 		movw	r0, #:lower16:.LC5
 215 0064 40F20001 		movw	r1, #:lower16:.LC1
 216 0068 C0F20000 		movt	r0, #:upper16:.LC5
 217 006c C0F20001 		movt	r1, #:upper16:.LC1
 218 0070 40F24112 		movw	r2, #321
 219 0074 FFF7FEFF 		bl	chDbgPanic3
 220 0078 CCE7     		b	.L16
 221              		.size	usbInitEndpointI, .-usbInitEndpointI
 222 007a 00BFAFF3 		.section	.text.usbDisableEndpointsI,"ax",%progbits
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 5


 222      0080
 223              		.align	2
 224              		.p2align 4,,15
 225              		.global	usbDisableEndpointsI
 226              		.thumb
 227              		.thumb_func
 228              		.type	usbDisableEndpointsI, %function
 229              	usbDisableEndpointsI:
 230              		@ args = 0, pretend = 0, frame = 0
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232 0000 10B5     		push	{r4, lr}
 233 0002 0446     		mov	r4, r0
 234 0004 FFF7FEFF 		bl	chDbgCheckClassI
 235 0008 CCB1     		cbz	r4, .L43
 236              	.L38:
 237 000a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 238 000c 032B     		cmp	r3, #3
 239 000e 05D0     		beq	.L39
 240 0010 40F20000 		movw	r0, #:lower16:.LC9
 241 0014 C0F20000 		movt	r0, #:upper16:.LC9
 242 0018 FFF7FEFF 		bl	chDbgPanic
 243              	.L39:
 244 001c 2189     		ldrh	r1, [r4, #8]
 245 001e 6289     		ldrh	r2, [r4, #10]
 246 0020 0023     		movs	r3, #0
 247 0022 21F00101 		bic	r1, r1, #1
 248 0026 22F00102 		bic	r2, r2, #1
 249 002a 2181     		strh	r1, [r4, #8]	@ movhi
 250 002c 6281     		strh	r2, [r4, #10]	@ movhi
 251 002e 2361     		str	r3, [r4, #16]
 252 0030 6361     		str	r3, [r4, #20]
 253 0032 A361     		str	r3, [r4, #24]
 254 0034 2046     		mov	r0, r4
 255 0036 BDE81040 		pop	{r4, lr}
 256 003a FFF7FEBF 		b	usb_lld_disable_endpoints
 257              	.L43:
 258 003e 40F20000 		movw	r0, #:lower16:.LC8
 259 0042 40F20001 		movw	r1, #:lower16:.LC1
 260 0046 C0F20000 		movt	r0, #:upper16:.LC8
 261 004a C0F20001 		movt	r1, #:upper16:.LC1
 262 004e 4FF4B172 		mov	r2, #354
 263 0052 FFF7FEFF 		bl	chDbgPanic3
 264 0056 D8E7     		b	.L38
 265              		.size	usbDisableEndpointsI, .-usbDisableEndpointsI
 266 0058 AFF30080 		.section	.text.usbPrepareReceive,"ax",%progbits
 266      AFF30080 
 267              		.align	2
 268              		.p2align 4,,15
 269              		.global	usbPrepareReceive
 270              		.thumb
 271              		.thumb_func
 272              		.type	usbPrepareReceive, %function
 273              	usbPrepareReceive:
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276              		@ link register save eliminated.
 277 0000 30B4     		push	{r4, r5}
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 6


 278 0002 00EB8104 		add	r4, r0, r1, lsl #2
 279 0006 0025     		movs	r5, #0
 280 0008 E468     		ldr	r4, [r4, #12]
 281 000a A469     		ldr	r4, [r4, #24]
 282 000c E260     		str	r2, [r4, #12]
 283 000e 6360     		str	r3, [r4, #4]
 284 0010 2570     		strb	r5, [r4]
 285 0012 A560     		str	r5, [r4, #8]
 286 0014 30BC     		pop	{r4, r5}
 287 0016 FFF7FEBF 		b	usb_lld_prepare_receive
 288              		.size	usbPrepareReceive, .-usbPrepareReceive
 289              		.section	.text.usbPrepareTransmit,"ax",%progbits
 290              		.align	2
 291              		.p2align 4,,15
 292              		.global	usbPrepareTransmit
 293              		.thumb
 294              		.thumb_func
 295              		.type	usbPrepareTransmit, %function
 296              	usbPrepareTransmit:
 297              		@ args = 0, pretend = 0, frame = 0
 298              		@ frame_needed = 0, uses_anonymous_args = 0
 299              		@ link register save eliminated.
 300 0000 30B4     		push	{r4, r5}
 301 0002 00EB8104 		add	r4, r0, r1, lsl #2
 302 0006 0025     		movs	r5, #0
 303 0008 E468     		ldr	r4, [r4, #12]
 304 000a 6469     		ldr	r4, [r4, #20]
 305 000c E260     		str	r2, [r4, #12]
 306 000e 6360     		str	r3, [r4, #4]
 307 0010 2570     		strb	r5, [r4]
 308 0012 A560     		str	r5, [r4, #8]
 309 0014 30BC     		pop	{r4, r5}
 310 0016 FFF7FEBF 		b	usb_lld_prepare_transmit
 311              		.size	usbPrepareTransmit, .-usbPrepareTransmit
 312              		.section	.text.usbPrepareQueuedReceive,"ax",%progbits
 313              		.align	2
 314              		.p2align 4,,15
 315              		.global	usbPrepareQueuedReceive
 316              		.thumb
 317              		.thumb_func
 318              		.type	usbPrepareQueuedReceive, %function
 319              	usbPrepareQueuedReceive:
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322              		@ link register save eliminated.
 323 0000 70B4     		push	{r4, r5, r6}
 324 0002 00EB8104 		add	r4, r0, r1, lsl #2
 325 0006 0126     		movs	r6, #1
 326 0008 E468     		ldr	r4, [r4, #12]
 327 000a A469     		ldr	r4, [r4, #24]
 328 000c 0025     		movs	r5, #0
 329 000e E260     		str	r2, [r4, #12]
 330 0010 6360     		str	r3, [r4, #4]
 331 0012 2670     		strb	r6, [r4]
 332 0014 A560     		str	r5, [r4, #8]
 333 0016 70BC     		pop	{r4, r5, r6}
 334 0018 FFF7FEBF 		b	usb_lld_prepare_receive
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 7


 335              		.size	usbPrepareQueuedReceive, .-usbPrepareQueuedReceive
 336 001c AFF30080 		.section	.text.usbPrepareQueuedTransmit,"ax",%progbits
 337              		.align	2
 338              		.p2align 4,,15
 339              		.global	usbPrepareQueuedTransmit
 340              		.thumb
 341              		.thumb_func
 342              		.type	usbPrepareQueuedTransmit, %function
 343              	usbPrepareQueuedTransmit:
 344              		@ args = 0, pretend = 0, frame = 0
 345              		@ frame_needed = 0, uses_anonymous_args = 0
 346              		@ link register save eliminated.
 347 0000 70B4     		push	{r4, r5, r6}
 348 0002 00EB8104 		add	r4, r0, r1, lsl #2
 349 0006 0126     		movs	r6, #1
 350 0008 E468     		ldr	r4, [r4, #12]
 351 000a 6469     		ldr	r4, [r4, #20]
 352 000c 0025     		movs	r5, #0
 353 000e E260     		str	r2, [r4, #12]
 354 0010 6360     		str	r3, [r4, #4]
 355 0012 2670     		strb	r6, [r4]
 356 0014 A560     		str	r5, [r4, #8]
 357 0016 70BC     		pop	{r4, r5, r6}
 358 0018 FFF7FEBF 		b	usb_lld_prepare_transmit
 359              		.size	usbPrepareQueuedTransmit, .-usbPrepareQueuedTransmit
 360 001c AFF30080 		.section	.text.usbStartReceiveI,"ax",%progbits
 361              		.align	2
 362              		.p2align 4,,15
 363              		.global	usbStartReceiveI
 364              		.thumb
 365              		.thumb_func
 366              		.type	usbStartReceiveI, %function
 367              	usbStartReceiveI:
 368              		@ args = 0, pretend = 0, frame = 0
 369              		@ frame_needed = 0, uses_anonymous_args = 0
 370 0000 70B5     		push	{r4, r5, r6, lr}
 371 0002 0446     		mov	r4, r0
 372 0004 0D46     		mov	r5, r1
 373 0006 FFF7FEFF 		bl	chDbgCheckClassI
 374 000a 8CB1     		cbz	r4, .L52
 375              	.L49:
 376 000c 6389     		ldrh	r3, [r4, #10]
 377 000e 43FA05F0 		asr	r0, r3, r5
 378 0012 10F00106 		ands	r6, r0, #1
 379 0016 01D0     		beq	.L53
 380 0018 0120     		movs	r0, #1
 381 001a 70BD     		pop	{r4, r5, r6, pc}
 382              	.L53:
 383 001c 0122     		movs	r2, #1
 384 001e AA40     		lsls	r2, r2, r5
 385 0020 1343     		orrs	r3, r3, r2
 386 0022 2046     		mov	r0, r4
 387 0024 6381     		strh	r3, [r4, #10]	@ movhi
 388 0026 2946     		mov	r1, r5
 389 0028 FFF7FEFF 		bl	usb_lld_start_out
 390 002c 3046     		mov	r0, r6
 391 002e 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 8


 392              	.L52:
 393 0030 40F20000 		movw	r0, #:lower16:.LC10
 394 0034 40F20001 		movw	r1, #:lower16:.LC1
 395 0038 C0F20000 		movt	r0, #:upper16:.LC10
 396 003c C0F20001 		movt	r1, #:upper16:.LC1
 397 0040 4FF4F472 		mov	r2, #488
 398 0044 FFF7FEFF 		bl	chDbgPanic3
 399 0048 E0E7     		b	.L49
 400              		.size	usbStartReceiveI, .-usbStartReceiveI
 401 004a 00BFAFF3 		.section	.text.usbStartTransmitI,"ax",%progbits
 401      0080
 402              		.align	2
 403              		.p2align 4,,15
 404              		.global	usbStartTransmitI
 405              		.thumb
 406              		.thumb_func
 407              		.type	usbStartTransmitI, %function
 408              	usbStartTransmitI:
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411 0000 70B5     		push	{r4, r5, r6, lr}
 412 0002 0446     		mov	r4, r0
 413 0004 0D46     		mov	r5, r1
 414 0006 FFF7FEFF 		bl	chDbgCheckClassI
 415 000a 8CB1     		cbz	r4, .L58
 416              	.L55:
 417 000c 2389     		ldrh	r3, [r4, #8]
 418 000e 43FA05F0 		asr	r0, r3, r5
 419 0012 10F00106 		ands	r6, r0, #1
 420 0016 01D0     		beq	.L59
 421 0018 0120     		movs	r0, #1
 422 001a 70BD     		pop	{r4, r5, r6, pc}
 423              	.L59:
 424 001c 0122     		movs	r2, #1
 425 001e AA40     		lsls	r2, r2, r5
 426 0020 1343     		orrs	r3, r3, r2
 427 0022 2046     		mov	r0, r4
 428 0024 2381     		strh	r3, [r4, #8]	@ movhi
 429 0026 2946     		mov	r1, r5
 430 0028 FFF7FEFF 		bl	usb_lld_start_in
 431 002c 3046     		mov	r0, r6
 432 002e 70BD     		pop	{r4, r5, r6, pc}
 433              	.L58:
 434 0030 40F20000 		movw	r0, #:lower16:.LC11
 435 0034 40F20001 		movw	r1, #:lower16:.LC1
 436 0038 C0F20000 		movt	r0, #:upper16:.LC11
 437 003c C0F20001 		movt	r1, #:upper16:.LC1
 438 0040 40F20322 		movw	r2, #515
 439 0044 FFF7FEFF 		bl	chDbgPanic3
 440 0048 E0E7     		b	.L55
 441              		.size	usbStartTransmitI, .-usbStartTransmitI
 442 004a 00BFAFF3 		.section	.text.usbStallReceiveI,"ax",%progbits
 442      0080
 443              		.align	2
 444              		.p2align 4,,15
 445              		.global	usbStallReceiveI
 446              		.thumb
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 9


 447              		.thumb_func
 448              		.type	usbStallReceiveI, %function
 449              	usbStallReceiveI:
 450              		@ args = 0, pretend = 0, frame = 0
 451              		@ frame_needed = 0, uses_anonymous_args = 0
 452 0000 70B5     		push	{r4, r5, r6, lr}
 453 0002 0446     		mov	r4, r0
 454 0004 0D46     		mov	r5, r1
 455 0006 FFF7FEFF 		bl	chDbgCheckClassI
 456 000a 64B1     		cbz	r4, .L64
 457              	.L61:
 458 000c 6089     		ldrh	r0, [r4, #10]
 459 000e 2841     		asrs	r0, r0, r5
 460 0010 10F00106 		ands	r6, r0, #1
 461 0014 01D0     		beq	.L65
 462 0016 0120     		movs	r0, #1
 463 0018 70BD     		pop	{r4, r5, r6, pc}
 464              	.L65:
 465 001a 2046     		mov	r0, r4
 466 001c 2946     		mov	r1, r5
 467 001e FFF7FEFF 		bl	usb_lld_stall_out
 468 0022 3046     		mov	r0, r6
 469 0024 70BD     		pop	{r4, r5, r6, pc}
 470              	.L64:
 471 0026 40F20000 		movw	r0, #:lower16:.LC12
 472 002a 40F20001 		movw	r1, #:lower16:.LC1
 473 002e C0F20000 		movt	r0, #:upper16:.LC12
 474 0032 C0F20001 		movt	r1, #:upper16:.LC1
 475 0036 4FF40772 		mov	r2, #540
 476 003a FFF7FEFF 		bl	chDbgPanic3
 477 003e E5E7     		b	.L61
 478              		.size	usbStallReceiveI, .-usbStallReceiveI
 479              		.section	.text.usbStallTransmitI,"ax",%progbits
 480              		.align	2
 481              		.p2align 4,,15
 482              		.global	usbStallTransmitI
 483              		.thumb
 484              		.thumb_func
 485              		.type	usbStallTransmitI, %function
 486              	usbStallTransmitI:
 487              		@ args = 0, pretend = 0, frame = 0
 488              		@ frame_needed = 0, uses_anonymous_args = 0
 489 0000 70B5     		push	{r4, r5, r6, lr}
 490 0002 0446     		mov	r4, r0
 491 0004 0D46     		mov	r5, r1
 492 0006 FFF7FEFF 		bl	chDbgCheckClassI
 493 000a 64B1     		cbz	r4, .L70
 494              	.L67:
 495 000c 2089     		ldrh	r0, [r4, #8]
 496 000e 2841     		asrs	r0, r0, r5
 497 0010 10F00106 		ands	r6, r0, #1
 498 0014 01D0     		beq	.L71
 499 0016 0120     		movs	r0, #1
 500 0018 70BD     		pop	{r4, r5, r6, pc}
 501              	.L71:
 502 001a 2046     		mov	r0, r4
 503 001c 2946     		mov	r1, r5
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 10


 504 001e FFF7FEFF 		bl	usb_lld_stall_in
 505 0022 3046     		mov	r0, r6
 506 0024 70BD     		pop	{r4, r5, r6, pc}
 507              	.L70:
 508 0026 40F20000 		movw	r0, #:lower16:.LC13
 509 002a 40F20001 		movw	r1, #:lower16:.LC1
 510 002e C0F20000 		movt	r0, #:upper16:.LC13
 511 0032 C0F20001 		movt	r1, #:upper16:.LC1
 512 0036 4FF40D72 		mov	r2, #564
 513 003a FFF7FEFF 		bl	chDbgPanic3
 514 003e E5E7     		b	.L67
 515              		.size	usbStallTransmitI, .-usbStallTransmitI
 516              		.section	.text._usb_reset,"ax",%progbits
 517              		.align	2
 518              		.p2align 4,,15
 519              		.global	_usb_reset
 520              		.thumb
 521              		.thumb_func
 522              		.type	_usb_reset, %function
 523              	_usb_reset:
 524              		@ args = 0, pretend = 0, frame = 0
 525              		@ frame_needed = 0, uses_anonymous_args = 0
 526              		@ link register save eliminated.
 527 0000 0022     		movs	r2, #0
 528 0002 0221     		movs	r1, #2
 529 0004 0170     		strb	r1, [r0]
 530 0006 A0F84C20 		strh	r2, [r0, #76]	@ movhi
 531 000a 80F84E20 		strb	r2, [r0, #78]
 532 000e 80F84F20 		strb	r2, [r0, #79]
 533 0012 0281     		strh	r2, [r0, #8]	@ movhi
 534 0014 4281     		strh	r2, [r0, #10]	@ movhi
 535 0016 C260     		str	r2, [r0, #12]
 536 0018 0261     		str	r2, [r0, #16]
 537 001a 4261     		str	r2, [r0, #20]
 538 001c 8261     		str	r2, [r0, #24]
 539 001e 80F83420 		strb	r2, [r0, #52]
 540 0022 FFF7FEBF 		b	usb_lld_reset
 541              		.size	_usb_reset, .-_usb_reset
 542 0026 00BFAFF3 		.section	.text._usb_ep0setup,"ax",%progbits
 542      0080AFF3 
 542      0080
 543              		.align	2
 544              		.p2align 4,,15
 545              		.global	_usb_ep0setup
 546              		.thumb
 547              		.thumb_func
 548              		.type	_usb_ep0setup, %function
 549              	_usb_ep0setup:
 550              		@ args = 0, pretend = 0, frame = 0
 551              		@ frame_needed = 0, uses_anonymous_args = 0
 552 0000 70B5     		push	{r4, r5, r6, lr}
 553 0002 0023     		movs	r3, #0
 554 0004 0446     		mov	r4, r0
 555 0006 80F83430 		strb	r3, [r0, #52]
 556 000a 00F14402 		add	r2, r0, #68
 557 000e FFF7FEFF 		bl	usb_lld_read_setup
 558 0012 6368     		ldr	r3, [r4, #4]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 11


 559 0014 9B68     		ldr	r3, [r3, #8]
 560 0016 002B     		cmp	r3, #0
 561 0018 31D0     		beq	.L78
 562 001a 2046     		mov	r0, r4
 563 001c 9847     		blx	r3
 564 001e 70B3     		cbz	r0, .L78
 565 0020 E06B     		ldr	r0, [r4, #60]
 566 0022 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 567              	.L117:
 568 0026 94F84B10 		ldrb	r1, [r4, #75]	@ zero_extendqisi2
 569 002a 94F84A20 		ldrb	r2, [r4, #74]	@ zero_extendqisi2
 570 002e 42EA0122 		orr	r2, r2, r1, lsl #8
 571 0032 8242     		cmp	r2, r0
 572 0034 3CBF     		itt	cc
 573 0036 E263     		strcc	r2, [r4, #60]
 574 0038 1046     		movcc	r0, r2
 575 003a 13F0800F 		tst	r3, #128
 576 003e E368     		ldr	r3, [r4, #12]
 577 0040 40F09180 		bne	.L138
 578 0044 0028     		cmp	r0, #0
 579 0046 71D1     		bne	.L139
 580 0048 5B69     		ldr	r3, [r3, #20]
 581 004a 0522     		movs	r2, #5
 582 004c 84F83420 		strb	r2, [r4, #52]
 583 0050 0146     		mov	r1, r0
 584 0052 1870     		strb	r0, [r3]
 585 0054 D860     		str	r0, [r3, #12]
 586 0056 5860     		str	r0, [r3, #4]
 587 0058 9860     		str	r0, [r3, #8]
 588              	.L136:
 589 005a 2046     		mov	r0, r4
 590 005c FFF7FEFF 		bl	usb_lld_prepare_transmit
 591 0060 2023     		movs	r3, #32
 592              	@ 690 "chibios/os/hal/src/usb.c" 1
 593 0062 83F31188 		msr     BASEPRI, r3
 594              	@ 0 "" 2
 595              		.thumb
 596 0066 FFF7FEFF 		bl	dbg_check_lock_from_isr
 597 006a 0021     		movs	r1, #0
 598 006c 2046     		mov	r0, r4
 599 006e FFF7FEFF 		bl	usbStartTransmitI
 600 0072 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 601 0076 0023     		movs	r3, #0
 602              	@ 692 "chibios/os/hal/src/usb.c" 1
 603 0078 83F31188 		msr     BASEPRI, r3
 604              	@ 0 "" 2
 605              		.thumb
 606 007c 70BD     		pop	{r4, r5, r6, pc}
 607              	.L78:
 608 007e 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 609 0082 13F06006 		ands	r6, r3, #96
 610 0086 11D0     		beq	.L140
 611              	.L75:
 612 0088 2046     		mov	r0, r4
 613 008a 0021     		movs	r1, #0
 614 008c FFF7FEFF 		bl	usb_lld_stall_in
 615 0090 2046     		mov	r0, r4
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 12


 616 0092 0021     		movs	r1, #0
 617 0094 FFF7FEFF 		bl	usb_lld_stall_out
 618 0098 6368     		ldr	r3, [r4, #4]
 619 009a 1B68     		ldr	r3, [r3]
 620 009c 13B1     		cbz	r3, .L111
 621 009e 2046     		mov	r0, r4
 622 00a0 0521     		movs	r1, #5
 623 00a2 9847     		blx	r3
 624              	.L111:
 625 00a4 0623     		movs	r3, #6
 626 00a6 84F83430 		strb	r3, [r4, #52]
 627 00aa 70BD     		pop	{r4, r5, r6, pc}
 628              	.L140:
 629 00ac 94F84550 		ldrb	r5, [r4, #69]	@ zero_extendqisi2
 630 00b0 03F07F02 		and	r2, r3, #127
 631 00b4 42EA0525 		orr	r5, r2, r5, lsl #8
 632 00b8 B5F5407F 		cmp	r5, #768
 633 00bc 00F0ED80 		beq	.L80
 634 00c0 16DD     		ble	.L141
 635 00c2 B5F5C06F 		cmp	r5, #1536
 636 00c6 00F0D080 		beq	.L88
 637 00ca 63DD     		ble	.L142
 638 00cc B5F5106F 		cmp	r5, #2304
 639 00d0 73D0     		beq	.L92
 640 00d2 40F60242 		movw	r2, #3074
 641 00d6 9542     		cmp	r5, r2
 642 00d8 00F0F280 		beq	.L85
 643 00dc B5F5006F 		cmp	r5, #2048
 644 00e0 D2D1     		bne	.L75
 645 00e2 04F14F02 		add	r2, r4, #79
 646 00e6 0120     		movs	r0, #1
 647 00e8 2664     		str	r6, [r4, #64]
 648 00ea A263     		str	r2, [r4, #56]
 649 00ec E063     		str	r0, [r4, #60]
 650 00ee 9AE7     		b	.L117
 651              	.L141:
 652 00f0 022D     		cmp	r5, #2
 653 00f2 00F0A180 		beq	.L82
 654 00f6 40F39680 		ble	.L143
 655 00fa B5F5807F 		cmp	r5, #256
 656 00fe 00F08280 		beq	.L86
 657 0102 B5F5817F 		cmp	r5, #258
 658 0106 BFD1     		bne	.L75
 659 0108 94F84620 		ldrb	r2, [r4, #70]	@ zero_extendqisi2
 660 010c 002A     		cmp	r2, #0
 661 010e BBD1     		bne	.L75
 662 0110 94F84820 		ldrb	r2, [r4, #72]	@ zero_extendqisi2
 663 0114 12F00F01 		ands	r1, r2, #15
 664 0118 4AD0     		beq	.L109
 665 011a 1206     		lsls	r2, r2, #24
 666 011c 2046     		mov	r0, r4
 667 011e 00F1FD80 		bmi	.L144
 668 0122 FFF7FEFF 		bl	usb_lld_clear_out
 669 0126 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 670 012a 41E0     		b	.L109
 671              	.L139:
 672 012c 9B69     		ldr	r3, [r3, #24]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 13


 673 012e A56B     		ldr	r5, [r4, #56]
 674 0130 0022     		movs	r2, #0
 675 0132 0421     		movs	r1, #4
 676 0134 84F83410 		strb	r1, [r4, #52]
 677 0138 1146     		mov	r1, r2
 678 013a DD60     		str	r5, [r3, #12]
 679 013c 5860     		str	r0, [r3, #4]
 680 013e 1A70     		strb	r2, [r3]
 681 0140 9A60     		str	r2, [r3, #8]
 682              	.L135:
 683 0142 2046     		mov	r0, r4
 684 0144 FFF7FEFF 		bl	usb_lld_prepare_receive
 685 0148 2023     		movs	r3, #32
 686              	@ 680 "chibios/os/hal/src/usb.c" 1
 687 014a 83F31188 		msr     BASEPRI, r3
 688              	@ 0 "" 2
 689              		.thumb
 690 014e FFF7FEFF 		bl	dbg_check_lock_from_isr
 691 0152 0021     		movs	r1, #0
 692 0154 2046     		mov	r0, r4
 693 0156 FFF7FEFF 		bl	usbStartReceiveI
 694 015a FFF7FEFF 		bl	dbg_check_unlock_from_isr
 695 015e 0023     		movs	r3, #0
 696              	@ 682 "chibios/os/hal/src/usb.c" 1
 697 0160 83F31188 		msr     BASEPRI, r3
 698              	@ 0 "" 2
 699              		.thumb
 700 0164 70BD     		pop	{r4, r5, r6, pc}
 701              	.L138:
 702 0166 58B1     		cbz	r0, .L115
 703 0168 5B69     		ldr	r3, [r3, #20]
 704 016a A56B     		ldr	r5, [r4, #56]
 705 016c 0022     		movs	r2, #0
 706 016e 0121     		movs	r1, #1
 707 0170 84F83410 		strb	r1, [r4, #52]
 708 0174 1146     		mov	r1, r2
 709 0176 DD60     		str	r5, [r3, #12]
 710 0178 5860     		str	r0, [r3, #4]
 711 017a 1A70     		strb	r2, [r3]
 712 017c 9A60     		str	r2, [r3, #8]
 713 017e 6CE7     		b	.L136
 714              	.L115:
 715 0180 9B69     		ldr	r3, [r3, #24]
 716 0182 0322     		movs	r2, #3
 717 0184 84F83420 		strb	r2, [r4, #52]
 718 0188 0146     		mov	r1, r0
 719 018a 1870     		strb	r0, [r3]
 720 018c D860     		str	r0, [r3, #12]
 721 018e 5860     		str	r0, [r3, #4]
 722 0190 9860     		str	r0, [r3, #8]
 723 0192 D6E7     		b	.L135
 724              	.L142:
 725 0194 40F20232 		movw	r2, #770
 726 0198 9542     		cmp	r5, r2
 727 019a 21D0     		beq	.L90
 728 019c B5F5A06F 		cmp	r5, #1280
 729 01a0 7FF472AF 		bne	.L75
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 14


 730 01a4 B4F84420 		ldrh	r2, [r4, #68]
 731 01a8 B2F5A06F 		cmp	r2, #1280
 732 01ac 00F0A480 		beq	.L145
 733              	.L109:
 734 01b0 0020     		movs	r0, #0
 735 01b2 A063     		str	r0, [r4, #56]
 736 01b4 E063     		str	r0, [r4, #60]
 737 01b6 2064     		str	r0, [r4, #64]
 738 01b8 35E7     		b	.L117
 739              	.L92:
 740 01ba 94F84620 		ldrb	r2, [r4, #70]	@ zero_extendqisi2
 741 01be 84F84F20 		strb	r2, [r4, #79]
 742 01c2 002A     		cmp	r2, #0
 743 01c4 40F08680 		bne	.L99
 744 01c8 0322     		movs	r2, #3
 745 01ca 2270     		strb	r2, [r4]
 746              	.L100:
 747 01cc 6268     		ldr	r2, [r4, #4]
 748 01ce 1268     		ldr	r2, [r2]
 749 01d0 002A     		cmp	r2, #0
 750 01d2 EDD0     		beq	.L109
 751 01d4 2046     		mov	r0, r4
 752 01d6 0221     		movs	r1, #2
 753 01d8 9047     		blx	r2
 754 01da 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 755 01de E7E7     		b	.L109
 756              	.L90:
 757 01e0 94F84620 		ldrb	r2, [r4, #70]	@ zero_extendqisi2
 758 01e4 002A     		cmp	r2, #0
 759 01e6 7FF44FAF 		bne	.L75
 760 01ea 94F84820 		ldrb	r2, [r4, #72]	@ zero_extendqisi2
 761 01ee 12F00F01 		ands	r1, r2, #15
 762 01f2 DDD0     		beq	.L109
 763 01f4 1306     		lsls	r3, r2, #24
 764 01f6 2046     		mov	r0, r4
 765 01f8 00F19580 		bmi	.L146
 766 01fc FFF7FEFF 		bl	usb_lld_stall_out
 767 0200 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 768 0204 D4E7     		b	.L109
 769              	.L86:
 770 0206 94F84620 		ldrb	r2, [r4, #70]	@ zero_extendqisi2
 771 020a 012A     		cmp	r2, #1
 772 020c 7FF43CAF 		bne	.L75
 773 0210 B4F84C20 		ldrh	r2, [r4, #76]
 774 0214 A663     		str	r6, [r4, #56]
 775 0216 22F00202 		bic	r2, r2, #2
 776 021a E663     		str	r6, [r4, #60]
 777 021c 2664     		str	r6, [r4, #64]
 778 021e 3046     		mov	r0, r6
 779 0220 A4F84C20 		strh	r2, [r4, #76]	@ movhi
 780 0224 FFE6     		b	.L117
 781              	.L143:
 782 0226 002D     		cmp	r5, #0
 783 0228 47D1     		bne	.L147
 784 022a 04F14C02 		add	r2, r4, #76
 785 022e 0220     		movs	r0, #2
 786 0230 2564     		str	r5, [r4, #64]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 15


 787 0232 A263     		str	r2, [r4, #56]
 788 0234 E063     		str	r0, [r4, #60]
 789 0236 F6E6     		b	.L117
 790              	.L82:
 791 0238 94F84810 		ldrb	r1, [r4, #72]	@ zero_extendqisi2
 792 023c 11F0800F 		tst	r1, #128
 793 0240 2046     		mov	r0, r4
 794 0242 01F00F01 		and	r1, r1, #15
 795 0246 48D1     		bne	.L148
 796 0248 FFF7FEFF 		bl	usb_lld_get_status_out
 797 024c 0128     		cmp	r0, #1
 798 024e 48D0     		beq	.L105
 799              	.L137:
 800 0250 0228     		cmp	r0, #2
 801 0252 7FF419AF 		bne	.L75
 802 0256 40F20003 		movw	r3, #:lower16:.LANCHOR2
 803 025a C0F20003 		movt	r3, #:upper16:.LANCHOR2
 804 025e A363     		str	r3, [r4, #56]
 805 0260 E063     		str	r0, [r4, #60]
 806 0262 2664     		str	r6, [r4, #64]
 807 0264 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 808 0268 DDE6     		b	.L117
 809              	.L88:
 810 026a 6268     		ldr	r2, [r4, #4]
 811 026c 94F84900 		ldrb	r0, [r4, #73]	@ zero_extendqisi2
 812 0270 94F84830 		ldrb	r3, [r4, #72]	@ zero_extendqisi2
 813 0274 5568     		ldr	r5, [r2, #4]
 814 0276 94F84710 		ldrb	r1, [r4, #71]	@ zero_extendqisi2
 815 027a 94F84620 		ldrb	r2, [r4, #70]	@ zero_extendqisi2
 816 027e 43EA0023 		orr	r3, r3, r0, lsl #8
 817 0282 2046     		mov	r0, r4
 818 0284 A847     		blx	r5
 819 0286 0028     		cmp	r0, #0
 820 0288 3FF4FEAE 		beq	.L75
 821 028c 09C8     		ldmia	r0, {r0, r3}
 822 028e 2664     		str	r6, [r4, #64]
 823 0290 A363     		str	r3, [r4, #56]
 824 0292 E063     		str	r0, [r4, #60]
 825 0294 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 826 0298 C5E6     		b	.L117
 827              	.L80:
 828 029a 94F84620 		ldrb	r2, [r4, #70]	@ zero_extendqisi2
 829 029e 012A     		cmp	r2, #1
 830 02a0 7FF4F2AE 		bne	.L75
 831 02a4 B4F84C20 		ldrh	r2, [r4, #76]
 832 02a8 A663     		str	r6, [r4, #56]
 833 02aa 42F00202 		orr	r2, r2, #2
 834 02ae E663     		str	r6, [r4, #60]
 835 02b0 2664     		str	r6, [r4, #64]
 836 02b2 3046     		mov	r0, r6
 837 02b4 A4F84C20 		strh	r2, [r4, #76]	@ movhi
 838 02b8 B5E6     		b	.L117
 839              	.L147:
 840 02ba 012D     		cmp	r5, #1
 841 02bc 7FF4E4AE 		bne	.L75
 842              	.L85:
 843 02c0 40F20002 		movw	r2, #:lower16:.LANCHOR0
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 16


 844 02c4 C0F20002 		movt	r2, #:upper16:.LANCHOR0
 845 02c8 0220     		movs	r0, #2
 846 02ca 0021     		movs	r1, #0
 847 02cc A263     		str	r2, [r4, #56]
 848 02ce E063     		str	r0, [r4, #60]
 849 02d0 2164     		str	r1, [r4, #64]
 850 02d2 A8E6     		b	.L117
 851              	.L99:
 852 02d4 0422     		movs	r2, #4
 853 02d6 2270     		strb	r2, [r4]
 854 02d8 78E7     		b	.L100
 855              	.L148:
 856 02da FFF7FEFF 		bl	usb_lld_get_status_in
 857 02de 0128     		cmp	r0, #1
 858 02e0 B6D1     		bne	.L137
 859              	.L105:
 860 02e2 40F20003 		movw	r3, #:lower16:.LANCHOR1
 861 02e6 C0F20003 		movt	r3, #:upper16:.LANCHOR1
 862 02ea A363     		str	r3, [r4, #56]
 863 02ec E563     		str	r5, [r4, #60]
 864 02ee 2664     		str	r6, [r4, #64]
 865 02f0 2846     		mov	r0, r5
 866 02f2 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 867 02f6 96E6     		b	.L117
 868              	.L145:
 869 02f8 94F84630 		ldrb	r3, [r4, #70]	@ zero_extendqisi2
 870 02fc 2046     		mov	r0, r4
 871 02fe 84F84E30 		strb	r3, [r4, #78]
 872 0302 FFF7FEFF 		bl	usb_lld_set_address
 873 0306 6368     		ldr	r3, [r4, #4]
 874 0308 1B68     		ldr	r3, [r3]
 875 030a 13B1     		cbz	r3, .L98
 876 030c 2046     		mov	r0, r4
 877 030e 0121     		movs	r1, #1
 878 0310 9847     		blx	r3
 879              	.L98:
 880 0312 0323     		movs	r3, #3
 881 0314 2370     		strb	r3, [r4]
 882 0316 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 883 031a 49E7     		b	.L109
 884              	.L144:
 885 031c FFF7FEFF 		bl	usb_lld_clear_in
 886 0320 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 887 0324 44E7     		b	.L109
 888              	.L146:
 889 0326 FFF7FEFF 		bl	usb_lld_stall_in
 890 032a 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 891 032e 3FE7     		b	.L109
 892              		.size	_usb_ep0setup, .-_usb_ep0setup
 893              		.section	.text._usb_ep0in,"ax",%progbits
 894              		.align	2
 895              		.p2align 4,,15
 896              		.global	_usb_ep0in
 897              		.thumb
 898              		.thumb_func
 899              		.type	_usb_ep0in, %function
 900              	_usb_ep0in:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 17


 901              		@ args = 0, pretend = 0, frame = 0
 902              		@ frame_needed = 0, uses_anonymous_args = 0
 903 0000 38B5     		push	{r3, r4, r5, lr}
 904 0002 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 905 0006 022B     		cmp	r3, #2
 906 0008 0446     		mov	r4, r0
 907 000a 47D0     		beq	.L151
 908 000c 052B     		cmp	r3, #5
 909 000e 3ED0     		beq	.L152
 910 0010 012B     		cmp	r3, #1
 911 0012 10D0     		beq	.L166
 912 0014 0021     		movs	r1, #0
 913 0016 FFF7FEFF 		bl	usb_lld_stall_in
 914 001a 2046     		mov	r0, r4
 915 001c 0021     		movs	r1, #0
 916 001e FFF7FEFF 		bl	usb_lld_stall_out
 917 0022 6368     		ldr	r3, [r4, #4]
 918 0024 1B68     		ldr	r3, [r3]
 919 0026 13B1     		cbz	r3, .L158
 920 0028 2046     		mov	r0, r4
 921 002a 0521     		movs	r1, #5
 922 002c 9847     		blx	r3
 923              	.L158:
 924 002e 0623     		movs	r3, #6
 925 0030 84F83430 		strb	r3, [r4, #52]
 926 0034 38BD     		pop	{r3, r4, r5, pc}
 927              	.L166:
 928 0036 90F84B10 		ldrb	r1, [r0, #75]	@ zero_extendqisi2
 929 003a 90F84A30 		ldrb	r3, [r0, #74]	@ zero_extendqisi2
 930 003e C26B     		ldr	r2, [r0, #60]
 931 0040 43EA0123 		orr	r3, r3, r1, lsl #8
 932 0044 9342     		cmp	r3, r2
 933 0046 C368     		ldr	r3, [r0, #12]
 934 0048 05D9     		bls	.L155
 935 004a 198A     		ldrh	r1, [r3, #16]
 936 004c B2FBF1F5 		udiv	r5, r2, r1
 937 0050 01FB1522 		mls	r2, r1, r5, r2
 938 0054 22B3     		cbz	r2, .L167
 939              	.L155:
 940 0056 9A69     		ldr	r2, [r3, #24]
 941 0058 0321     		movs	r1, #3
 942 005a 0023     		movs	r3, #0
 943 005c 84F83410 		strb	r1, [r4, #52]
 944 0060 2046     		mov	r0, r4
 945 0062 1946     		mov	r1, r3
 946 0064 1370     		strb	r3, [r2]
 947 0066 D360     		str	r3, [r2, #12]
 948 0068 5360     		str	r3, [r2, #4]
 949 006a 9360     		str	r3, [r2, #8]
 950 006c FFF7FEFF 		bl	usb_lld_prepare_receive
 951 0070 2023     		movs	r3, #32
 952              	@ 734 "chibios/os/hal/src/usb.c" 1
 953 0072 83F31188 		msr     BASEPRI, r3
 954              	@ 0 "" 2
 955              		.thumb
 956 0076 FFF7FEFF 		bl	dbg_check_lock_from_isr
 957 007a 0021     		movs	r1, #0
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 18


 958 007c 2046     		mov	r0, r4
 959 007e FFF7FEFF 		bl	usbStartReceiveI
 960 0082 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 961 0086 0023     		movs	r3, #0
 962              	@ 736 "chibios/os/hal/src/usb.c" 1
 963 0088 83F31188 		msr     BASEPRI, r3
 964              	@ 0 "" 2
 965              		.thumb
 966 008c 38BD     		pop	{r3, r4, r5, pc}
 967              	.L152:
 968 008e 036C     		ldr	r3, [r0, #64]
 969 0090 03B1     		cbz	r3, .L157
 970 0092 9847     		blx	r3
 971              	.L157:
 972 0094 0023     		movs	r3, #0
 973 0096 84F83430 		strb	r3, [r4, #52]
 974 009a 38BD     		pop	{r3, r4, r5, pc}
 975              	.L151:
 976 009c C368     		ldr	r3, [r0, #12]
 977 009e DAE7     		b	.L155
 978              	.L167:
 979 00a0 5B69     		ldr	r3, [r3, #20]
 980 00a2 1146     		mov	r1, r2
 981 00a4 1A70     		strb	r2, [r3]
 982 00a6 DA60     		str	r2, [r3, #12]
 983 00a8 5A60     		str	r2, [r3, #4]
 984 00aa 9A60     		str	r2, [r3, #8]
 985 00ac FFF7FEFF 		bl	usb_lld_prepare_transmit
 986 00b0 2023     		movs	r3, #32
 987              	@ 722 "chibios/os/hal/src/usb.c" 1
 988 00b2 83F31188 		msr     BASEPRI, r3
 989              	@ 0 "" 2
 990              		.thumb
 991 00b6 FFF7FEFF 		bl	dbg_check_lock_from_isr
 992 00ba 0021     		movs	r1, #0
 993 00bc 2046     		mov	r0, r4
 994 00be FFF7FEFF 		bl	usbStartTransmitI
 995 00c2 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 996 00c6 0023     		movs	r3, #0
 997              	@ 724 "chibios/os/hal/src/usb.c" 1
 998 00c8 83F31188 		msr     BASEPRI, r3
 999              	@ 0 "" 2
 1000              		.thumb
 1001 00cc 0223     		movs	r3, #2
 1002 00ce 84F83430 		strb	r3, [r4, #52]
 1003 00d2 38BD     		pop	{r3, r4, r5, pc}
 1004              		.size	_usb_ep0in, .-_usb_ep0in
 1005 00d4 AFF30080 		.section	.text._usb_ep0out,"ax",%progbits
 1005      AFF30080 
 1005      AFF30080 
 1006              		.align	2
 1007              		.p2align 4,,15
 1008              		.global	_usb_ep0out
 1009              		.thumb
 1010              		.thumb_func
 1011              		.type	_usb_ep0out, %function
 1012              	_usb_ep0out:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 19


 1013              		@ args = 0, pretend = 0, frame = 0
 1014              		@ frame_needed = 0, uses_anonymous_args = 0
 1015 0000 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 1016 0004 032B     		cmp	r3, #3
 1017 0006 10B5     		push	{r4, lr}
 1018 0008 0446     		mov	r4, r0
 1019 000a 2FD0     		beq	.L170
 1020 000c 042B     		cmp	r3, #4
 1021 000e 11D0     		beq	.L181
 1022              	.L169:
 1023 0010 2046     		mov	r0, r4
 1024 0012 0021     		movs	r1, #0
 1025 0014 FFF7FEFF 		bl	usb_lld_stall_in
 1026 0018 2046     		mov	r0, r4
 1027 001a 0021     		movs	r1, #0
 1028 001c FFF7FEFF 		bl	usb_lld_stall_out
 1029 0020 6368     		ldr	r3, [r4, #4]
 1030 0022 1B68     		ldr	r3, [r3]
 1031 0024 13B1     		cbz	r3, .L174
 1032 0026 2046     		mov	r0, r4
 1033 0028 0521     		movs	r1, #5
 1034 002a 9847     		blx	r3
 1035              	.L174:
 1036 002c 0623     		movs	r3, #6
 1037 002e 84F83430 		strb	r3, [r4, #52]
 1038 0032 10BD     		pop	{r4, pc}
 1039              	.L181:
 1040 0034 C368     		ldr	r3, [r0, #12]
 1041 0036 5A69     		ldr	r2, [r3, #20]
 1042 0038 0521     		movs	r1, #5
 1043 003a 0023     		movs	r3, #0
 1044 003c 80F83410 		strb	r1, [r0, #52]
 1045 0040 1946     		mov	r1, r3
 1046 0042 1370     		strb	r3, [r2]
 1047 0044 D360     		str	r3, [r2, #12]
 1048 0046 5360     		str	r3, [r2, #4]
 1049 0048 9360     		str	r3, [r2, #8]
 1050 004a FFF7FEFF 		bl	usb_lld_prepare_transmit
 1051 004e 2023     		movs	r3, #32
 1052              	@ 778 "chibios/os/hal/src/usb.c" 1
 1053 0050 83F31188 		msr     BASEPRI, r3
 1054              	@ 0 "" 2
 1055              		.thumb
 1056 0054 FFF7FEFF 		bl	dbg_check_lock_from_isr
 1057 0058 0021     		movs	r1, #0
 1058 005a 2046     		mov	r0, r4
 1059 005c FFF7FEFF 		bl	usbStartTransmitI
 1060 0060 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 1061 0064 0023     		movs	r3, #0
 1062              	@ 780 "chibios/os/hal/src/usb.c" 1
 1063 0066 83F31188 		msr     BASEPRI, r3
 1064              	@ 0 "" 2
 1065              		.thumb
 1066 006a 10BD     		pop	{r4, pc}
 1067              	.L170:
 1068 006c C368     		ldr	r3, [r0, #12]
 1069 006e 9B69     		ldr	r3, [r3, #24]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 20


 1070 0070 9B68     		ldr	r3, [r3, #8]
 1071 0072 002B     		cmp	r3, #0
 1072 0074 CCD1     		bne	.L169
 1073 0076 036C     		ldr	r3, [r0, #64]
 1074 0078 03B1     		cbz	r3, .L173
 1075 007a 9847     		blx	r3
 1076              	.L173:
 1077 007c 0023     		movs	r3, #0
 1078 007e 84F83430 		strb	r3, [r4, #52]
 1079 0082 10BD     		pop	{r4, pc}
 1080              		.size	_usb_ep0out, .-_usb_ep0out
 1081 0084 AFF30080 		.section	.rodata.zero_status,"a",%progbits
 1081      AFF30080 
 1081      AFF30080 
 1082              		.align	2
 1083              		.set	.LANCHOR0,. + 0
 1084              		.type	zero_status, %object
 1085              		.size	zero_status, 2
 1086              	zero_status:
 1087 0000 0000     		.space	2
 1088 0002 0000     		.section	.rodata.active_status,"a",%progbits
 1089              		.align	2
 1090              		.set	.LANCHOR2,. + 0
 1091              		.type	active_status, %object
 1092              		.size	active_status, 2
 1093              	active_status:
 1094 0000 0000     		.space	2
 1095 0002 0000     		.section	.rodata.str1.4,"aMS",%progbits,1
 1096              		.align	2
 1097              	.LC0:
 1098 0000 22757362 		.ascii	"\"usbStart\"()\000"
 1098      53746172 
 1098      74222829 
 1098      00
 1099 000d 000000   		.space	3
 1100              	.LC1:
 1101 0010 63686962 		.ascii	"chibios/os/hal/src/usb.c\000"
 1101      696F732F 
 1101      6F732F68 
 1101      616C2F73 
 1101      72632F75 
 1102 0029 000000   		.space	3
 1103              	.LC2:
 1104 002c 75736253 		.ascii	"usbStart(), #1\000"
 1104      74617274 
 1104      28292C20 
 1104      233100
 1105 003b 00       		.space	1
 1106              	.LC3:
 1107 003c 22757362 		.ascii	"\"usbStop\"()\000"
 1107      53746F70 
 1107      22282900 
 1108              	.LC4:
 1109 0048 75736253 		.ascii	"usbStop(), #1\000"
 1109      746F7028 
 1109      292C2023 
 1109      3100
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 21


 1110 0056 0000     		.space	2
 1111              	.LC5:
 1112 0058 22757362 		.ascii	"\"usbInitEndpointI\"()\000"
 1112      496E6974 
 1112      456E6470 
 1112      6F696E74 
 1112      49222829 
 1113 006d 000000   		.space	3
 1114              	.LC6:
 1115 0070 75736245 		.ascii	"usbEnableEndpointI(), #1\000"
 1115      6E61626C 
 1115      65456E64 
 1115      706F696E 
 1115      74492829 
 1116 0089 000000   		.space	3
 1117              	.LC7:
 1118 008c 75736245 		.ascii	"usbEnableEndpointI(), #2\000"
 1118      6E61626C 
 1118      65456E64 
 1118      706F696E 
 1118      74492829 
 1119 00a5 000000   		.space	3
 1120              	.LC8:
 1121 00a8 22757362 		.ascii	"\"usbDisableEndpointsI\"()\000"
 1121      44697361 
 1121      626C6545 
 1121      6E64706F 
 1121      696E7473 
 1122 00c1 000000   		.space	3
 1123              	.LC9:
 1124 00c4 75736244 		.ascii	"usbDisableEndpointsI(), #1\000"
 1124      69736162 
 1124      6C65456E 
 1124      64706F69 
 1124      6E747349 
 1125 00df 00       		.space	1
 1126              	.LC10:
 1127 00e0 22757362 		.ascii	"\"usbStartReceiveI\"()\000"
 1127      53746172 
 1127      74526563 
 1127      65697665 
 1127      49222829 
 1128 00f5 000000   		.space	3
 1129              	.LC11:
 1130 00f8 22757362 		.ascii	"\"usbStartTransmitI\"()\000"
 1130      53746172 
 1130      74547261 
 1130      6E736D69 
 1130      74492228 
 1131 010e 0000     		.space	2
 1132              	.LC12:
 1133 0110 22757362 		.ascii	"\"usbStallReceiveI\"()\000"
 1133      5374616C 
 1133      6C526563 
 1133      65697665 
 1133      49222829 
 1134 0125 000000   		.space	3
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 22


 1135              	.LC13:
 1136 0128 22757362 		.ascii	"\"usbStallTransmitI\"()\000"
 1136      5374616C 
 1136      6C547261 
 1136      6E736D69 
 1136      74492228 
 1137 013e 0000     		.section	.rodata.halted_status,"a",%progbits
 1138              		.align	2
 1139              		.set	.LANCHOR1,. + 0
 1140              		.type	halted_status, %object
 1141              		.size	halted_status, 2
 1142              	halted_status:
 1143 0000 01       		.byte	1
 1144 0001 00       		.byte	0
 1145 0002 0000     		.ident	"GCC: (Sourcery CodeBench Lite 2013.11-24) 4.8.1"
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 usb.c
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:17     .text.usbInit:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:23     .text.usbInit:00000000 usbInit
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:30     .text.usbObjectInit:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:36     .text.usbObjectInit:00000000 usbObjectInit
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:55     .text.usbStart:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:61     .text.usbStart:00000000 usbStart
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1103   .rodata.str1.4:0000002c .LC2
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1097   .rodata.str1.4:00000000 .LC0
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1100   .rodata.str1.4:00000010 .LC1
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:114    .text.usbStop:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:120    .text.usbStop:00000000 usbStop
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1108   .rodata.str1.4:00000048 .LC4
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1106   .rodata.str1.4:0000003c .LC3
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:163    .text.usbInitEndpointI:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:169    .text.usbInitEndpointI:00000000 usbInitEndpointI
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1114   .rodata.str1.4:00000070 .LC6
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1117   .rodata.str1.4:0000008c .LC7
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1111   .rodata.str1.4:00000058 .LC5
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:223    .text.usbDisableEndpointsI:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:229    .text.usbDisableEndpointsI:00000000 usbDisableEndpointsI
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1123   .rodata.str1.4:000000c4 .LC9
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1120   .rodata.str1.4:000000a8 .LC8
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:267    .text.usbPrepareReceive:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:273    .text.usbPrepareReceive:00000000 usbPrepareReceive
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:290    .text.usbPrepareTransmit:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:296    .text.usbPrepareTransmit:00000000 usbPrepareTransmit
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:313    .text.usbPrepareQueuedReceive:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:319    .text.usbPrepareQueuedReceive:00000000 usbPrepareQueuedReceive
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:337    .text.usbPrepareQueuedTransmit:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:343    .text.usbPrepareQueuedTransmit:00000000 usbPrepareQueuedTransmit
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:361    .text.usbStartReceiveI:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:367    .text.usbStartReceiveI:00000000 usbStartReceiveI
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1126   .rodata.str1.4:000000e0 .LC10
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:402    .text.usbStartTransmitI:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:408    .text.usbStartTransmitI:00000000 usbStartTransmitI
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1129   .rodata.str1.4:000000f8 .LC11
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:443    .text.usbStallReceiveI:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:449    .text.usbStallReceiveI:00000000 usbStallReceiveI
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1132   .rodata.str1.4:00000110 .LC12
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:480    .text.usbStallTransmitI:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:486    .text.usbStallTransmitI:00000000 usbStallTransmitI
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1135   .rodata.str1.4:00000128 .LC13
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:517    .text._usb_reset:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:523    .text._usb_reset:00000000 _usb_reset
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:543    .text._usb_ep0setup:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:549    .text._usb_ep0setup:00000000 _usb_ep0setup
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1090   .rodata.active_status:00000000 .LANCHOR2
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1083   .rodata.zero_status:00000000 .LANCHOR0
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1139   .rodata.halted_status:00000000 .LANCHOR1
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:894    .text._usb_ep0in:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:900    .text._usb_ep0in:00000000 _usb_ep0in
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1006   .text._usb_ep0out:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1012   .text._usb_ep0out:00000000 _usb_ep0out
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1082   .rodata.zero_status:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1086   .rodata.zero_status:00000000 zero_status
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s 			page 24


C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1089   .rodata.active_status:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1093   .rodata.active_status:00000000 active_status
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1096   .rodata.str1.4:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1138   .rodata.halted_status:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccGjYMEE.s:1142   .rodata.halted_status:00000000 halted_status

UNDEFINED SYMBOLS
usb_lld_init
dbg_check_lock
chDbgPanic
usb_lld_start
dbg_check_unlock
chDbgPanic3
usb_lld_stop
chDbgCheckClassI
memset
usb_lld_init_endpoint
usb_lld_disable_endpoints
usb_lld_prepare_receive
usb_lld_prepare_transmit
usb_lld_start_out
usb_lld_start_in
usb_lld_stall_out
usb_lld_stall_in
usb_lld_reset
usb_lld_read_setup
dbg_check_lock_from_isr
dbg_check_unlock_from_isr
usb_lld_clear_out
usb_lld_get_status_out
usb_lld_get_status_in
usb_lld_set_address
usb_lld_clear_in
