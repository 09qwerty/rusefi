ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"trigger_input.cpp"
  16              		.section	.text._ZL25shaft_icu_period_callbackP9ICUDriver,"ax",%progbits
  17              		.align	2
  18              		.p2align 4,,15
  19              		.thumb
  20              		.thumb_func
  21              		.type	_ZL25shaft_icu_period_callbackP9ICUDriver, %function
  22              	_ZL25shaft_icu_period_callbackP9ICUDriver:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 40F20003 		movw	r3, #:lower16:.LANCHOR0
  27 0004 C0F20003 		movt	r3, #:upper16:.LANCHOR0
  28 0008 1B68     		ldr	r3, [r3]
  29 000a 8342     		cmp	r3, r0
  30 000c 11D1     		bne	.L11
  31 000e 40F20003 		movw	r3, #:lower16:_engine
  32 0012 C0F20003 		movt	r3, #:upper16:_engine
  33 0016 93F8E80D 		ldrb	r0, [r3, #3560]	@ zero_extendqisi2
  34 001a 40B1     		cbz	r0, .L5
  35 001c 0020     		movs	r0, #0
  36              	.L4:
  37 001e 40F20003 		movw	r3, #:lower16:persistentState
  38 0022 C0F20003 		movt	r3, #:upper16:persistentState
  39 0026 93F8ED35 		ldrb	r3, [r3, #1517]	@ zero_extendqisi2
  40 002a 5B06     		lsls	r3, r3, #25
  41 002c 0BD4     		bmi	.L1
  42              	.L5:
  43 002e FFF7FEBF 		b	_Z19hwHandleShaftSignal15trigger_event_e
  44              	.L11:
  45 0032 40F20003 		movw	r3, #:lower16:engine
  46 0036 C0F20003 		movt	r3, #:upper16:engine
  47 003a 0220     		movs	r0, #2
  48 003c 1B68     		ldr	r3, [r3]
  49 003e 93F88532 		ldrb	r3, [r3, #645]	@ zero_extendqisi2
  50 0042 002B     		cmp	r3, #0
  51 0044 EBD1     		bne	.L4
  52              	.L1:
  53 0046 7047     		bx	lr
  54              		.size	_ZL25shaft_icu_period_callbackP9ICUDriver, .-_ZL25shaft_icu_period_callbackP9ICUDriver
  55 0048 AFF30080 		.section	.text._ZL24shaft_icu_width_callbackP9ICUDriver,"ax",%progbits
  55      AFF30080 
  56              		.align	2
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 2


  57              		.p2align 4,,15
  58              		.thumb
  59              		.thumb_func
  60              		.type	_ZL24shaft_icu_width_callbackP9ICUDriver, %function
  61              	_ZL24shaft_icu_width_callbackP9ICUDriver:
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		@ link register save eliminated.
  65 0000 40F20003 		movw	r3, #:lower16:.LANCHOR0
  66 0004 C0F20003 		movt	r3, #:upper16:.LANCHOR0
  67 0008 1B68     		ldr	r3, [r3]
  68 000a 8342     		cmp	r3, r0
  69 000c 09D1     		bne	.L21
  70 000e 40F20003 		movw	r3, #:lower16:_engine
  71 0012 C0F20003 		movt	r3, #:upper16:_engine
  72 0016 0120     		movs	r0, #1
  73 0018 93F8E83D 		ldrb	r3, [r3, #3560]	@ zero_extendqisi2
  74 001c 53B1     		cbz	r3, .L16
  75              	.L15:
  76 001e FFF7FEBF 		b	_Z19hwHandleShaftSignal15trigger_event_e
  77              	.L21:
  78 0022 40F20003 		movw	r3, #:lower16:engine
  79 0026 C0F20003 		movt	r3, #:upper16:engine
  80 002a 1B68     		ldr	r3, [r3]
  81 002c 93F88532 		ldrb	r3, [r3, #645]	@ zero_extendqisi2
  82 0030 4BB1     		cbz	r3, .L12
  83 0032 0320     		movs	r0, #3
  84              	.L16:
  85 0034 40F20003 		movw	r3, #:lower16:persistentState
  86 0038 C0F20003 		movt	r3, #:upper16:persistentState
  87 003c 93F8ED35 		ldrb	r3, [r3, #1517]	@ zero_extendqisi2
  88 0040 5A06     		lsls	r2, r3, #25
  89 0042 ECD5     		bpl	.L15
  90 0044 7047     		bx	lr
  91              	.L12:
  92 0046 7047     		bx	lr
  93              		.size	_ZL24shaft_icu_width_callbackP9ICUDriver, .-_ZL24shaft_icu_width_callbackP9ICUDriver
  94 0048 AFF30080 		.section	.text._ZL21turnOnTriggerInputPin11brain_pin_e,"ax",%progbits
  94      AFF30080 
  95              		.align	2
  96              		.p2align 4,,15
  97              		.thumb
  98              		.thumb_func
  99              		.type	_ZL21turnOnTriggerInputPin11brain_pin_e, %function
 100              	_ZL21turnOnTriggerInputPin11brain_pin_e:
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 104 0002 0646     		mov	r6, r0
 105 0004 40F20004 		movw	r4, #:lower16:.LANCHOR1
 106 0008 40F20000 		movw	r0, #:lower16:.LC0
 107 000c 3146     		mov	r1, r6
 108 000e C0F20000 		movt	r0, #:upper16:.LC0
 109 0012 C0F20004 		movt	r4, #:upper16:.LANCHOR1
 110 0016 FFF7FEFF 		bl	_Z16turnOnCapturePinPKc11brain_pin_e
 111 001a 0023     		movs	r3, #0
 112 001c 3046     		mov	r0, r6
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 3


 113 001e 2375     		strb	r3, [r4, #20]
 114 0020 FFF7FEFF 		bl	_Z21getInputCaptureDriver11brain_pin_e
 115 0024 40F20003 		movw	r3, #:lower16:.LANCHOR2
 116 0028 C0F20003 		movt	r3, #:upper16:.LANCHOR2
 117 002c 0546     		mov	r5, r0
 118 002e 3046     		mov	r0, r6
 119 0030 1F68     		ldr	r7, [r3]
 120 0032 FFF7FEFF 		bl	_Z10hwPortname11brain_pin_e
 121 0036 40F20001 		movw	r1, #:lower16:.LC1
 122 003a 0246     		mov	r2, r0
 123 003c C0F20001 		movt	r1, #:upper16:.LC1
 124 0040 3846     		mov	r0, r7
 125 0042 FFF7FEFF 		bl	scheduleMsg
 126 0046 85B1     		cbz	r5, .L23
 127 0048 2146     		mov	r1, r4
 128 004a 2846     		mov	r0, r5
 129 004c FFF7FEFF 		bl	_Z11efiIcuStartP9ICUDriverPK9ICUConfig
 130 0050 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 131 0052 022B     		cmp	r3, #2
 132 0054 0BD0     		beq	.L28
 133 0056 3046     		mov	r0, r6
 134 0058 FFF7FEFF 		bl	_Z10hwPortname11brain_pin_e
 135 005c 0146     		mov	r1, r0
 136 005e 40F20000 		movw	r0, #:lower16:.LC2
 137 0062 C0F20000 		movt	r0, #:upper16:.LC2
 138 0066 FFF7FEFF 		bl	firmwareError
 139              	.L23:
 140 006a 2846     		mov	r0, r5
 141 006c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 142              	.L28:
 143 006e 2846     		mov	r0, r5
 144 0070 FFF7FEFF 		bl	icuEnable
 145 0074 2846     		mov	r0, r5
 146 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 147              		.size	_ZL21turnOnTriggerInputPin11brain_pin_e, .-_ZL21turnOnTriggerInputPin11brain_pin_e
 148 0078 AFF30080 		.section	.text._Z22turnOnTriggerInputPinsP7Logging,"ax",%progbits
 148      AFF30080 
 149              		.align	2
 150              		.p2align 4,,15
 151              		.global	_Z22turnOnTriggerInputPinsP7Logging
 152              		.thumb
 153              		.thumb_func
 154              		.type	_Z22turnOnTriggerInputPinsP7Logging, %function
 155              	_Z22turnOnTriggerInputPinsP7Logging:
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
 158 0000 10B5     		push	{r4, lr}
 159 0002 40F20004 		movw	r4, #:lower16:boardConfiguration
 160 0006 C0F20004 		movt	r4, #:upper16:boardConfiguration
 161 000a 40F20003 		movw	r3, #:lower16:.LANCHOR2
 162 000e 2268     		ldr	r2, [r4]
 163 0010 C0F20003 		movt	r3, #:upper16:.LANCHOR2
 164 0014 1860     		str	r0, [r3]
 165 0016 D2F82801 		ldr	r0, [r2, #296]
 166 001a FFF7FEFF 		bl	_ZL21turnOnTriggerInputPin11brain_pin_e
 167 001e 2368     		ldr	r3, [r4]
 168 0020 D3F82C01 		ldr	r0, [r3, #300]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 4


 169 0024 FFF7FEFF 		bl	_ZL21turnOnTriggerInputPin11brain_pin_e
 170 0028 2368     		ldr	r3, [r4]
 171 002a D3F82801 		ldr	r0, [r3, #296]
 172 002e FFF7FEFF 		bl	_Z21getInputCaptureDriver11brain_pin_e
 173 0032 40F20003 		movw	r3, #:lower16:.LANCHOR0
 174 0036 C0F20003 		movt	r3, #:upper16:.LANCHOR0
 175 003a 1860     		str	r0, [r3]
 176 003c 10BD     		pop	{r4, pc}
 177              		.size	_Z22turnOnTriggerInputPinsP7Logging, .-_Z22turnOnTriggerInputPinsP7Logging
 178 003e 00BF     		.section	.text._Z20stopTriggerInputPinsv,"ax",%progbits
 179              		.align	2
 180              		.p2align 4,,15
 181              		.global	_Z20stopTriggerInputPinsv
 182              		.thumb
 183              		.thumb_func
 184              		.type	_Z20stopTriggerInputPinsv, %function
 185              	_Z20stopTriggerInputPinsv:
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 189 0004 40F20007 		movw	r7, #:lower16:activeConfiguration
 190 0008 40F20006 		movw	r6, #:lower16:boardConfiguration
 191 000c 40F20008 		movw	r8, #:lower16:.LANCHOR2
 192 0010 C0F20007 		movt	r7, #:upper16:activeConfiguration
 193 0014 C0F20006 		movt	r6, #:upper16:boardConfiguration
 194 0018 C0F20008 		movt	r8, #:upper16:.LANCHOR2
 195 001c 0024     		movs	r4, #0
 196              	.L35:
 197 001e 07EB8402 		add	r2, r7, r4, lsl #2
 198 0022 3368     		ldr	r3, [r6]
 199 0024 D2F89853 		ldr	r5, [r2, #920]
 200 0028 04F14A02 		add	r2, r4, #74
 201 002c 2846     		mov	r0, r5
 202 002e 53F82230 		ldr	r3, [r3, r2, lsl #2]
 203 0032 AB42     		cmp	r3, r5
 204 0034 04F10104 		add	r4, r4, #1
 205 0038 18D0     		beq	.L32
 206 003a FFF7FEFF 		bl	_Z21getInputCaptureDriver11brain_pin_e
 207 003e 8146     		mov	r9, r0
 208 0040 A0B1     		cbz	r0, .L32
 209 0042 FFF7FEFF 		bl	icuDisable
 210 0046 4846     		mov	r0, r9
 211 0048 FFF7FEFF 		bl	icuStop
 212 004c 2846     		mov	r0, r5
 213 004e D8F80090 		ldr	r9, [r8]
 214 0052 FFF7FEFF 		bl	_Z10hwPortname11brain_pin_e
 215 0056 40F20001 		movw	r1, #:lower16:.LC3
 216 005a 0246     		mov	r2, r0
 217 005c C0F20001 		movt	r1, #:upper16:.LC3
 218 0060 4846     		mov	r0, r9
 219 0062 FFF7FEFF 		bl	scheduleMsg
 220 0066 2846     		mov	r0, r5
 221 0068 FFF7FEFF 		bl	_Z9unmarkPin11brain_pin_e
 222              	.L32:
 223 006c 022C     		cmp	r4, #2
 224 006e D6D1     		bne	.L35
 225 0070 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 5


 226              		.size	_Z20stopTriggerInputPinsv, .-_Z20stopTriggerInputPinsv
 227 0074 AFF30080 		.section	.text._Z24applyNewTriggerInputPinsv,"ax",%progbits
 227      AFF30080 
 227      AFF30080 
 228              		.align	2
 229              		.p2align 4,,15
 230              		.global	_Z24applyNewTriggerInputPinsv
 231              		.thumb
 232              		.thumb_func
 233              		.type	_Z24applyNewTriggerInputPinsv, %function
 234              	_Z24applyNewTriggerInputPinsv:
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 237 0000 38B5     		push	{r3, r4, r5, lr}
 238 0002 40F20004 		movw	r4, #:lower16:boardConfiguration
 239 0006 C0F20004 		movt	r4, #:upper16:boardConfiguration
 240 000a 40F20005 		movw	r5, #:lower16:activeConfiguration
 241 000e FFF7FEFF 		bl	_Z20stopTriggerInputPinsv
 242 0012 C0F20005 		movt	r5, #:upper16:activeConfiguration
 243 0016 2368     		ldr	r3, [r4]
 244 0018 D5F89823 		ldr	r2, [r5, #920]
 245 001c D3F82801 		ldr	r0, [r3, #296]
 246 0020 9042     		cmp	r0, r2
 247 0022 02D0     		beq	.L40
 248 0024 FFF7FEFF 		bl	_ZL21turnOnTriggerInputPin11brain_pin_e
 249 0028 2368     		ldr	r3, [r4]
 250              	.L40:
 251 002a D5F89C23 		ldr	r2, [r5, #924]
 252 002e D3F82C01 		ldr	r0, [r3, #300]
 253 0032 9042     		cmp	r0, r2
 254 0034 02D0     		beq	.L41
 255 0036 FFF7FEFF 		bl	_ZL21turnOnTriggerInputPin11brain_pin_e
 256 003a 2368     		ldr	r3, [r4]
 257              	.L41:
 258 003c D3F82801 		ldr	r0, [r3, #296]
 259 0040 FFF7FEFF 		bl	_Z21getInputCaptureDriver11brain_pin_e
 260 0044 40F20003 		movw	r3, #:lower16:.LANCHOR0
 261 0048 C0F20003 		movt	r3, #:upper16:.LANCHOR0
 262 004c 1860     		str	r0, [r3]
 263 004e 38BD     		pop	{r3, r4, r5, pc}
 264              		.size	_Z24applyNewTriggerInputPinsv, .-_Z24applyNewTriggerInputPinsv
 265              		.section	.bss._ZL18primaryCrankDriver,"aw",%nobits
 266              		.align	2
 267              		.set	.LANCHOR0,. + 0
 268              		.type	_ZL18primaryCrankDriver, %object
 269              		.size	_ZL18primaryCrankDriver, 4
 270              	_ZL18primaryCrankDriver:
 271 0000 00000000 		.space	4
 272              		.section	.rodata.str1.4,"aMS",%progbits,1
 273              		.align	2
 274              	.LC0:
 275 0000 74726967 		.ascii	"trigger\000"
 275      67657200 
 276              	.LC1:
 277 0008 7475726E 		.ascii	"turnOnTriggerInputPin %s\000"
 277      4F6E5472 
 277      69676765 
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 6


 277      72496E70 
 277      75745069 
 278 0021 000000   		.space	3
 279              	.LC2:
 280 0024 49435520 		.ascii	"ICU unexpected state [%s]\000"
 280      756E6578 
 280      70656374 
 280      65642073 
 280      74617465 
 281 003e 0000     		.space	2
 282              	.LC3:
 283 0040 7475726E 		.ascii	"turnOffTriggerInputPin %s\000"
 283      4F666654 
 283      72696767 
 283      6572496E 
 283      70757450 
 284 005a 0000     		.section	.data._ZL12shaft_icucfg,"aw",%progbits
 285              		.align	2
 286              		.set	.LANCHOR1,. + 0
 287              		.type	_ZL12shaft_icucfg, %object
 288              		.size	_ZL12shaft_icucfg, 28
 289              	_ZL12shaft_icucfg:
 290 0000 01       		.byte	1
 291 0001 000000   		.space	3
 292 0004 A0860100 		.word	100000
 293 0008 00000000 		.word	_ZL24shaft_icu_width_callbackP9ICUDriver
 294 000c 00000000 		.word	_ZL25shaft_icu_period_callbackP9ICUDriver
 295 0010 00000000 		.space	12
 295      00000000 
 295      00000000 
 296              		.section	.bss._ZL6logger,"aw",%nobits
 297              		.align	2
 298              		.set	.LANCHOR2,. + 0
 299              		.type	_ZL6logger, %object
 300              		.size	_ZL6logger, 4
 301              	_ZL6logger:
 302 0000 00000000 		.space	4
 303              		.ident	"GCC: (Sourcery CodeBench Lite 2013.11-24) 4.8.1"
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 trigger_input.cpp
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:17     .text._ZL25shaft_icu_period_callbackP9ICUDriver:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:22     .text._ZL25shaft_icu_period_callbackP9ICUDriver:00000000 _ZL25shaft_icu_period_callbackP9ICUDriver
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:267    .bss._ZL18primaryCrankDriver:00000000 .LANCHOR0
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:56     .text._ZL24shaft_icu_width_callbackP9ICUDriver:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:61     .text._ZL24shaft_icu_width_callbackP9ICUDriver:00000000 _ZL24shaft_icu_width_callbackP9ICUDriver
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:95     .text._ZL21turnOnTriggerInputPin11brain_pin_e:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:100    .text._ZL21turnOnTriggerInputPin11brain_pin_e:00000000 _ZL21turnOnTriggerInputPin11brain_pin_e
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:286    .data._ZL12shaft_icucfg:00000000 .LANCHOR1
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:274    .rodata.str1.4:00000000 .LC0
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:298    .bss._ZL6logger:00000000 .LANCHOR2
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:276    .rodata.str1.4:00000008 .LC1
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:279    .rodata.str1.4:00000024 .LC2
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:149    .text._Z22turnOnTriggerInputPinsP7Logging:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:155    .text._Z22turnOnTriggerInputPinsP7Logging:00000000 _Z22turnOnTriggerInputPinsP7Logging
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:179    .text._Z20stopTriggerInputPinsv:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:185    .text._Z20stopTriggerInputPinsv:00000000 _Z20stopTriggerInputPinsv
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:282    .rodata.str1.4:00000040 .LC3
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:228    .text._Z24applyNewTriggerInputPinsv:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:234    .text._Z24applyNewTriggerInputPinsv:00000000 _Z24applyNewTriggerInputPinsv
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:266    .bss._ZL18primaryCrankDriver:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:270    .bss._ZL18primaryCrankDriver:00000000 _ZL18primaryCrankDriver
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:273    .rodata.str1.4:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:285    .data._ZL12shaft_icucfg:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:289    .data._ZL12shaft_icucfg:00000000 _ZL12shaft_icucfg
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:297    .bss._ZL6logger:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccvjHQxC.s:301    .bss._ZL6logger:00000000 _ZL6logger

UNDEFINED SYMBOLS
_engine
persistentState
_Z19hwHandleShaftSignal15trigger_event_e
engine
_Z16turnOnCapturePinPKc11brain_pin_e
_Z21getInputCaptureDriver11brain_pin_e
_Z10hwPortname11brain_pin_e
scheduleMsg
_Z11efiIcuStartP9ICUDriverPK9ICUConfig
firmwareError
icuEnable
boardConfiguration
activeConfiguration
icuDisable
icuStop
_Z9unmarkPin11brain_pin_e
