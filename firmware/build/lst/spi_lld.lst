ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"spi_lld.c"
  16              		.section	.text.spi_lld_serve_tx_interrupt,"ax",%progbits
  17              		.align	2
  18              		.p2align 4,,15
  19              		.thumb
  20              		.thumb_func
  21              		.type	spi_lld_serve_tx_interrupt, %function
  22              	spi_lld_serve_tx_interrupt:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 7047     		bx	lr
  27              		.size	spi_lld_serve_tx_interrupt, .-spi_lld_serve_tx_interrupt
  28 0002 00BFAFF3 		.section	.text.spi_lld_serve_rx_interrupt,"ax",%progbits
  28      0080AFF3 
  28      0080AFF3 
  28      0080
  29              		.align	2
  30              		.p2align 4,,15
  31              		.thumb
  32              		.thumb_func
  33              		.type	spi_lld_serve_rx_interrupt, %function
  34              	spi_lld_serve_rx_interrupt:
  35              		@ args = 0, pretend = 0, frame = 0
  36              		@ frame_needed = 0, uses_anonymous_args = 0
  37 0000 38B5     		push	{r3, r4, r5, lr}
  38 0002 0446     		mov	r4, r0
  39 0004 406A     		ldr	r0, [r0, #36]
  40 0006 0268     		ldr	r2, [r0]
  41 0008 1368     		ldr	r3, [r2]
  42 000a 23F01F03 		bic	r3, r3, #31
  43 000e 1360     		str	r3, [r2]
  44              	.L4:
  45 0010 1368     		ldr	r3, [r2]
  46 0012 D907     		lsls	r1, r3, #31
  47 0014 FCD4     		bmi	.L4
  48 0016 057A     		ldrb	r5, [r0, #8]	@ zero_extendqisi2
  49 0018 216A     		ldr	r1, [r4, #32]
  50 001a 4368     		ldr	r3, [r0, #4]
  51 001c 0A68     		ldr	r2, [r1]
  52 001e 3D20     		movs	r0, #61
  53 0020 A840     		lsls	r0, r0, r5
  54 0022 1860     		str	r0, [r3]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 2


  55 0024 1368     		ldr	r3, [r2]
  56 0026 23F01F03 		bic	r3, r3, #31
  57 002a 1360     		str	r3, [r2]
  58              	.L6:
  59 002c 1368     		ldr	r3, [r2]
  60 002e DB07     		lsls	r3, r3, #31
  61 0030 FCD4     		bmi	.L6
  62 0032 6368     		ldr	r3, [r4, #4]
  63 0034 087A     		ldrb	r0, [r1, #8]	@ zero_extendqisi2
  64 0036 4A68     		ldr	r2, [r1, #4]
  65 0038 1B68     		ldr	r3, [r3]
  66 003a 3D21     		movs	r1, #61
  67 003c 8140     		lsls	r1, r1, r0
  68 003e 1160     		str	r1, [r2]
  69 0040 CBB1     		cbz	r3, .L7
  70 0042 0422     		movs	r2, #4
  71 0044 2270     		strb	r2, [r4]
  72 0046 2046     		mov	r0, r4
  73 0048 9847     		blx	r3
  74 004a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
  75 004c 042B     		cmp	r3, #4
  76 004e 12D0     		beq	.L7
  77              	.L8:
  78 0050 2023     		movs	r3, #32
  79              	@ 150 "chibios/os/hal/platforms/STM32/SPIv1/spi_lld.c" 1
  80 0052 83F31188 		msr     BASEPRI, r3
  81              	@ 0 "" 2
  82              		.thumb
  83 0056 FFF7FEFF 		bl	dbg_check_lock_from_isr
  84 005a A368     		ldr	r3, [r4, #8]
  85 005c 2BB1     		cbz	r3, .L9
  86 005e 0022     		movs	r2, #0
  87 0060 A260     		str	r2, [r4, #8]
  88 0062 1846     		mov	r0, r3
  89 0064 9A62     		str	r2, [r3, #40]
  90 0066 FFF7FEFF 		bl	chSchReadyI
  91              	.L9:
  92 006a FFF7FEFF 		bl	dbg_check_unlock_from_isr
  93 006e 0023     		movs	r3, #0
  94              	@ 150 "chibios/os/hal/platforms/STM32/SPIv1/spi_lld.c" 1
  95 0070 83F31188 		msr     BASEPRI, r3
  96              	@ 0 "" 2
  97              		.thumb
  98 0074 38BD     		pop	{r3, r4, r5, pc}
  99              	.L7:
 100 0076 0223     		movs	r3, #2
 101 0078 2370     		strb	r3, [r4]
 102 007a E9E7     		b	.L8
 103              		.size	spi_lld_serve_rx_interrupt, .-spi_lld_serve_rx_interrupt
 104 007c AFF30080 		.section	.text.spi_lld_init,"ax",%progbits
 105              		.align	2
 106              		.p2align 4,,15
 107              		.global	spi_lld_init
 108              		.thumb
 109              		.thumb_func
 110              		.type	spi_lld_init, %function
 111              	spi_lld_init:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 3


 112              		@ args = 0, pretend = 0, frame = 0
 113              		@ frame_needed = 0, uses_anonymous_args = 0
 114 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 115 0004 40F20003 		movw	r3, #:lower16:.LANCHOR0
 116 0008 40F20006 		movw	r6, #:lower16:.LANCHOR1
 117 000c C0F20006 		movt	r6, #:upper16:.LANCHOR1
 118 0010 C0F20003 		movt	r3, #:upper16:.LANCHOR0
 119 0014 254F     		ldr	r7, .L15
 120 0016 4FF6FF72 		movw	r2, #65535
 121 001a 3046     		mov	r0, r6
 122 001c 40F20005 		movw	r5, #:lower16:.LANCHOR2
 123 0020 C0F20005 		movt	r5, #:upper16:.LANCHOR2
 124 0024 1A80     		strh	r2, [r3]	@ movhi
 125 0026 FFF7FEFF 		bl	spiObjectInit
 126 002a 4FF44051 		mov	r1, #12288
 127 002e 1622     		movs	r2, #22
 128 0030 4623     		movs	r3, #70
 129 0032 07F1240E 		add	lr, r7, #36
 130 0036 C4F20101 		movt	r1, 16385
 131 003a C0F20162 		movt	r2, 1537
 132 003e C0F20163 		movt	r3, 1537
 133 0042 2846     		mov	r0, r5
 134 0044 40F20004 		movw	r4, #:lower16:.LANCHOR3
 135 0048 C0F20004 		movt	r4, #:upper16:.LANCHOR3
 136 004c F161     		str	r1, [r6, #28]
 137 004e 3762     		str	r7, [r6, #32]
 138 0050 C6F824E0 		str	lr, [r6, #36]
 139 0054 B262     		str	r2, [r6, #40]
 140 0056 F362     		str	r3, [r6, #44]
 141 0058 4FF01608 		mov	r8, #22
 142 005c FFF7FEFF 		bl	spiObjectInit
 143 0060 4626     		movs	r6, #70
 144 0062 4FF46053 		mov	r3, #14336
 145 0066 A7F13002 		sub	r2, r7, #48
 146 006a C4F20003 		movt	r3, 16384
 147 006e A7F13C01 		sub	r1, r7, #60
 148 0072 C0F20108 		movt	r8, 1
 149 0076 C0F20106 		movt	r6, 1
 150 007a 2046     		mov	r0, r4
 151 007c EB61     		str	r3, [r5, #28]
 152 007e 6A62     		str	r2, [r5, #36]
 153 0080 2962     		str	r1, [r5, #32]
 154 0082 C5F82880 		str	r8, [r5, #40]
 155 0086 EE62     		str	r6, [r5, #44]
 156 0088 FFF7FEFF 		bl	spiObjectInit
 157 008c 4FF47053 		mov	r3, #15360
 158 0090 A7F16002 		sub	r2, r7, #96
 159 0094 C4F20003 		movt	r3, 16384
 160 0098 0C3F     		subs	r7, r7, #12
 161 009a C4F82880 		str	r8, [r4, #40]
 162 009e E662     		str	r6, [r4, #44]
 163 00a0 E361     		str	r3, [r4, #28]
 164 00a2 2262     		str	r2, [r4, #32]
 165 00a4 6762     		str	r7, [r4, #36]
 166 00a6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 167              	.L16:
 168 00aa 00BF     		.align	2
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 4


 169              	.L15:
 170 00ac 60000000 		.word	_stm32_dma_streams+96
 171              		.size	spi_lld_init, .-spi_lld_init
 172              		.section	.text.spi_lld_start,"ax",%progbits
 173              		.align	2
 174              		.p2align 4,,15
 175              		.global	spi_lld_start
 176              		.thumb
 177              		.thumb_func
 178              		.type	spi_lld_start, %function
 179              	spi_lld_start:
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
 182 0000 38B5     		push	{r3, r4, r5, lr}
 183 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 184 0004 012B     		cmp	r3, #1
 185 0006 0446     		mov	r4, r0
 186 0008 1DD0     		beq	.L49
 187 000a C369     		ldr	r3, [r0, #28]
 188              	.L18:
 189 000c 6268     		ldr	r2, [r4, #4]
 190 000e A06A     		ldr	r0, [r4, #40]
 191 0010 5289     		ldrh	r2, [r2, #10]
 192 0012 E16A     		ldr	r1, [r4, #44]
 193 0014 20F4F040 		bic	r0, r0, #30720
 194 0018 21F4F041 		bic	r1, r1, #30720
 195 001c 1505     		lsls	r5, r2, #20
 196 001e 44BF     		itt	mi
 197 0020 40F42050 		orrmi	r0, r0, #10240
 198 0024 41F42051 		orrmi	r1, r1, #10240
 199 0028 A062     		str	r0, [r4, #40]
 200 002a E162     		str	r1, [r4, #44]
 201 002c 42F44172 		orr	r2, r2, #772
 202 0030 0020     		movs	r0, #0
 203 0032 0721     		movs	r1, #7
 204 0034 1880     		strh	r0, [r3]	@ movhi
 205 0036 1A80     		strh	r2, [r3]	@ movhi
 206 0038 9980     		strh	r1, [r3, #4]	@ movhi
 207 003a 1A88     		ldrh	r2, [r3]
 208 003c 92B2     		uxth	r2, r2
 209 003e 42F04002 		orr	r2, r2, #64
 210 0042 1A80     		strh	r2, [r3]	@ movhi
 211 0044 38BD     		pop	{r3, r4, r5, pc}
 212              	.L49:
 213 0046 40F20005 		movw	r5, #:lower16:.LANCHOR1
 214 004a C0F20005 		movt	r5, #:upper16:.LANCHOR1
 215 004e A842     		cmp	r0, r5
 216 0050 15D0     		beq	.L51
 217 0052 40F20005 		movw	r5, #:lower16:.LANCHOR2
 218 0056 C0F20005 		movt	r5, #:upper16:.LANCHOR2
 219 005a A842     		cmp	r0, r5
 220 005c 31D0     		beq	.L52
 221 005e 40F20005 		movw	r5, #:lower16:.LANCHOR3
 222 0062 C0F20005 		movt	r5, #:upper16:.LANCHOR3
 223 0066 A842     		cmp	r0, r5
 224 0068 4CD0     		beq	.L53
 225              	.L22:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 5


 226 006a 216A     		ldr	r1, [r4, #32]
 227 006c 626A     		ldr	r2, [r4, #36]
 228 006e E369     		ldr	r3, [r4, #28]
 229 0070 0868     		ldr	r0, [r1]
 230 0072 1168     		ldr	r1, [r2]
 231 0074 03F10C02 		add	r2, r3, #12
 232 0078 8260     		str	r2, [r0, #8]
 233 007a 8A60     		str	r2, [r1, #8]
 234 007c C6E7     		b	.L18
 235              	.L51:
 236 007e 40F20002 		movw	r2, #:lower16:spi_lld_serve_rx_interrupt
 237 0082 C0F20002 		movt	r2, #:upper16:spi_lld_serve_rx_interrupt
 238 0086 006A     		ldr	r0, [r0, #32]
 239 0088 0A21     		movs	r1, #10
 240 008a 2346     		mov	r3, r4
 241 008c FFF7FEFF 		bl	dmaStreamAllocate
 242 0090 0028     		cmp	r0, #0
 243 0092 6CD1     		bne	.L54
 244              	.L20:
 245 0094 40F20002 		movw	r2, #:lower16:spi_lld_serve_tx_interrupt
 246 0098 40F20003 		movw	r3, #:lower16:.LANCHOR1
 247 009c 686A     		ldr	r0, [r5, #36]
 248 009e C0F20002 		movt	r2, #:upper16:spi_lld_serve_tx_interrupt
 249 00a2 C0F20003 		movt	r3, #:upper16:.LANCHOR1
 250 00a6 0A21     		movs	r1, #10
 251 00a8 FFF7FEFF 		bl	dmaStreamAllocate
 252 00ac 0028     		cmp	r0, #0
 253 00ae 57D1     		bne	.L55
 254              	.L21:
 255 00b0 4FF46053 		mov	r3, #14336
 256 00b4 C4F20203 		movt	r3, 16386
 257 00b8 5A6C     		ldr	r2, [r3, #68]
 258 00ba 42F48052 		orr	r2, r2, #4096
 259 00be 5A64     		str	r2, [r3, #68]
 260 00c0 D3E7     		b	.L22
 261              	.L52:
 262 00c2 40F20002 		movw	r2, #:lower16:spi_lld_serve_rx_interrupt
 263 00c6 C0F20002 		movt	r2, #:upper16:spi_lld_serve_rx_interrupt
 264 00ca 006A     		ldr	r0, [r0, #32]
 265 00cc 0A21     		movs	r1, #10
 266 00ce 2346     		mov	r3, r4
 267 00d0 FFF7FEFF 		bl	dmaStreamAllocate
 268 00d4 0028     		cmp	r0, #0
 269 00d6 3CD1     		bne	.L56
 270              	.L24:
 271 00d8 40F20002 		movw	r2, #:lower16:spi_lld_serve_tx_interrupt
 272 00dc 40F20003 		movw	r3, #:lower16:.LANCHOR2
 273 00e0 686A     		ldr	r0, [r5, #36]
 274 00e2 C0F20002 		movt	r2, #:upper16:spi_lld_serve_tx_interrupt
 275 00e6 C0F20003 		movt	r3, #:upper16:.LANCHOR2
 276 00ea 0A21     		movs	r1, #10
 277 00ec FFF7FEFF 		bl	dmaStreamAllocate
 278 00f0 40BB     		cbnz	r0, .L57
 279              	.L25:
 280 00f2 4FF46053 		mov	r3, #14336
 281 00f6 C4F20203 		movt	r3, 16386
 282 00fa 1A6C     		ldr	r2, [r3, #64]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 6


 283 00fc 42F48042 		orr	r2, r2, #16384
 284 0100 1A64     		str	r2, [r3, #64]
 285 0102 B2E7     		b	.L22
 286              	.L53:
 287 0104 40F20002 		movw	r2, #:lower16:spi_lld_serve_rx_interrupt
 288 0108 C0F20002 		movt	r2, #:upper16:spi_lld_serve_rx_interrupt
 289 010c 006A     		ldr	r0, [r0, #32]
 290 010e 0A21     		movs	r1, #10
 291 0110 2346     		mov	r3, r4
 292 0112 FFF7FEFF 		bl	dmaStreamAllocate
 293 0116 C0BB     		cbnz	r0, .L58
 294              	.L26:
 295 0118 40F20002 		movw	r2, #:lower16:spi_lld_serve_tx_interrupt
 296 011c 40F20003 		movw	r3, #:lower16:.LANCHOR3
 297 0120 686A     		ldr	r0, [r5, #36]
 298 0122 C0F20002 		movt	r2, #:upper16:spi_lld_serve_tx_interrupt
 299 0126 C0F20003 		movt	r3, #:upper16:.LANCHOR3
 300 012a 0A21     		movs	r1, #10
 301 012c FFF7FEFF 		bl	dmaStreamAllocate
 302 0130 20BB     		cbnz	r0, .L59
 303              	.L27:
 304 0132 4FF46053 		mov	r3, #14336
 305 0136 C4F20203 		movt	r3, 16386
 306 013a 1A6C     		ldr	r2, [r3, #64]
 307 013c 42F40042 		orr	r2, r2, #32768
 308 0140 1A64     		str	r2, [r3, #64]
 309 0142 92E7     		b	.L22
 310              	.L57:
 311 0144 40F20000 		movw	r0, #:lower16:.LC3
 312 0148 C0F20000 		movt	r0, #:upper16:.LC3
 313 014c FFF7FEFF 		bl	chDbgPanic
 314 0150 CFE7     		b	.L25
 315              	.L56:
 316 0152 40F20000 		movw	r0, #:lower16:.LC2
 317 0156 C0F20000 		movt	r0, #:upper16:.LC2
 318 015a FFF7FEFF 		bl	chDbgPanic
 319 015e BBE7     		b	.L24
 320              	.L55:
 321 0160 40F20000 		movw	r0, #:lower16:.LC1
 322 0164 C0F20000 		movt	r0, #:upper16:.LC1
 323 0168 FFF7FEFF 		bl	chDbgPanic
 324 016c A0E7     		b	.L21
 325              	.L54:
 326 016e 40F20000 		movw	r0, #:lower16:.LC0
 327 0172 C0F20000 		movt	r0, #:upper16:.LC0
 328 0176 FFF7FEFF 		bl	chDbgPanic
 329 017a 8BE7     		b	.L20
 330              	.L59:
 331 017c 40F20000 		movw	r0, #:lower16:.LC5
 332 0180 C0F20000 		movt	r0, #:upper16:.LC5
 333 0184 FFF7FEFF 		bl	chDbgPanic
 334 0188 D3E7     		b	.L27
 335              	.L58:
 336 018a 40F20000 		movw	r0, #:lower16:.LC4
 337 018e C0F20000 		movt	r0, #:upper16:.LC4
 338 0192 FFF7FEFF 		bl	chDbgPanic
 339 0196 BFE7     		b	.L26
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 7


 340              		.size	spi_lld_start, .-spi_lld_start
 341 0198 AFF30080 		.section	.text.spi_lld_stop,"ax",%progbits
 341      AFF30080 
 342              		.align	2
 343              		.p2align 4,,15
 344              		.global	spi_lld_stop
 345              		.thumb
 346              		.thumb_func
 347              		.type	spi_lld_stop, %function
 348              	spi_lld_stop:
 349              		@ args = 0, pretend = 0, frame = 0
 350              		@ frame_needed = 0, uses_anonymous_args = 0
 351 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 352 0002 022B     		cmp	r3, #2
 353 0004 10B5     		push	{r4, lr}
 354 0006 0446     		mov	r4, r0
 355 0008 00D0     		beq	.L66
 356 000a 10BD     		pop	{r4, pc}
 357              	.L66:
 358 000c C369     		ldr	r3, [r0, #28]
 359 000e 006A     		ldr	r0, [r0, #32]
 360 0010 0022     		movs	r2, #0
 361 0012 1A80     		strh	r2, [r3]	@ movhi
 362 0014 9A80     		strh	r2, [r3, #4]	@ movhi
 363 0016 FFF7FEFF 		bl	dmaStreamRelease
 364 001a 606A     		ldr	r0, [r4, #36]
 365 001c FFF7FEFF 		bl	dmaStreamRelease
 366 0020 40F20003 		movw	r3, #:lower16:.LANCHOR1
 367 0024 C0F20003 		movt	r3, #:upper16:.LANCHOR1
 368 0028 9C42     		cmp	r4, r3
 369 002a 15D0     		beq	.L67
 370 002c 40F20003 		movw	r3, #:lower16:.LANCHOR2
 371 0030 C0F20003 		movt	r3, #:upper16:.LANCHOR2
 372 0034 9C42     		cmp	r4, r3
 373 0036 18D0     		beq	.L68
 374 0038 40F20003 		movw	r3, #:lower16:.LANCHOR3
 375 003c C0F20003 		movt	r3, #:upper16:.LANCHOR3
 376 0040 9C42     		cmp	r4, r3
 377 0042 01BF     		itttt	eq
 378 0044 4FF46053 		moveq	r3, #14336
 379 0048 C4F20203 		movteq	r3, 16386
 380 004c 1A6C     		ldreq	r2, [r3, #64]
 381 004e 22F40042 		biceq	r2, r2, #32768
 382 0052 08BF     		it	eq
 383 0054 1A64     		streq	r2, [r3, #64]
 384 0056 10BD     		pop	{r4, pc}
 385              	.L67:
 386 0058 4FF46053 		mov	r3, #14336
 387 005c C4F20203 		movt	r3, 16386
 388 0060 5A6C     		ldr	r2, [r3, #68]
 389 0062 22F48052 		bic	r2, r2, #4096
 390 0066 5A64     		str	r2, [r3, #68]
 391 0068 10BD     		pop	{r4, pc}
 392              	.L68:
 393 006a 4FF46053 		mov	r3, #14336
 394 006e C4F20203 		movt	r3, 16386
 395 0072 1A6C     		ldr	r2, [r3, #64]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 8


 396 0074 22F48042 		bic	r2, r2, #16384
 397 0078 1A64     		str	r2, [r3, #64]
 398 007a 10BD     		pop	{r4, pc}
 399              		.size	spi_lld_stop, .-spi_lld_stop
 400 007c AFF30080 		.section	.text.spi_lld_select,"ax",%progbits
 401              		.align	2
 402              		.p2align 4,,15
 403              		.global	spi_lld_select
 404              		.thumb
 405              		.thumb_func
 406              		.type	spi_lld_select, %function
 407              	spi_lld_select:
 408              		@ args = 0, pretend = 0, frame = 0
 409              		@ frame_needed = 0, uses_anonymous_args = 0
 410              		@ link register save eliminated.
 411 0000 4368     		ldr	r3, [r0, #4]
 412 0002 1A89     		ldrh	r2, [r3, #8]
 413 0004 5B68     		ldr	r3, [r3, #4]
 414 0006 0121     		movs	r1, #1
 415 0008 01FA02F2 		lsl	r2, r1, r2
 416 000c 92B2     		uxth	r2, r2
 417 000e 5A83     		strh	r2, [r3, #26]	@ movhi
 418 0010 7047     		bx	lr
 419              		.size	spi_lld_select, .-spi_lld_select
 420 0012 00BFAFF3 		.section	.text.spi_lld_unselect,"ax",%progbits
 420      0080AFF3 
 420      0080AFF3 
 420      0080
 421              		.align	2
 422              		.p2align 4,,15
 423              		.global	spi_lld_unselect
 424              		.thumb
 425              		.thumb_func
 426              		.type	spi_lld_unselect, %function
 427              	spi_lld_unselect:
 428              		@ args = 0, pretend = 0, frame = 0
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 430              		@ link register save eliminated.
 431 0000 4368     		ldr	r3, [r0, #4]
 432 0002 1A89     		ldrh	r2, [r3, #8]
 433 0004 5B68     		ldr	r3, [r3, #4]
 434 0006 0121     		movs	r1, #1
 435 0008 01FA02F2 		lsl	r2, r1, r2
 436 000c 92B2     		uxth	r2, r2
 437 000e 1A83     		strh	r2, [r3, #24]	@ movhi
 438 0010 7047     		bx	lr
 439              		.size	spi_lld_unselect, .-spi_lld_unselect
 440 0012 00BFAFF3 		.section	.text.spi_lld_ignore,"ax",%progbits
 440      0080AFF3 
 440      0080AFF3 
 440      0080
 441              		.align	2
 442              		.p2align 4,,15
 443              		.global	spi_lld_ignore
 444              		.thumb
 445              		.thumb_func
 446              		.type	spi_lld_ignore, %function
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 9


 447              	spi_lld_ignore:
 448              		@ args = 0, pretend = 0, frame = 0
 449              		@ frame_needed = 0, uses_anonymous_args = 0
 450              		@ link register save eliminated.
 451 0000 026A     		ldr	r2, [r0, #32]
 452 0002 436A     		ldr	r3, [r0, #36]
 453 0004 1268     		ldr	r2, [r2]
 454 0006 1B68     		ldr	r3, [r3]
 455 0008 70B4     		push	{r4, r5, r6}
 456 000a 866A     		ldr	r6, [r0, #40]
 457 000c C56A     		ldr	r5, [r0, #44]
 458 000e 40F20004 		movw	r4, #:lower16:.LANCHOR4
 459 0012 40F20000 		movw	r0, #:lower16:.LANCHOR0
 460 0016 C0F20004 		movt	r4, #:upper16:.LANCHOR4
 461 001a C0F20000 		movt	r0, #:upper16:.LANCHOR0
 462 001e D460     		str	r4, [r2, #12]
 463 0020 5160     		str	r1, [r2, #4]
 464 0022 1660     		str	r6, [r2]
 465 0024 D860     		str	r0, [r3, #12]
 466 0026 5960     		str	r1, [r3, #4]
 467 0028 1D60     		str	r5, [r3]
 468 002a 1168     		ldr	r1, [r2]
 469 002c 41F00101 		orr	r1, r1, #1
 470 0030 1160     		str	r1, [r2]
 471 0032 1A68     		ldr	r2, [r3]
 472 0034 42F00102 		orr	r2, r2, #1
 473 0038 1A60     		str	r2, [r3]
 474 003a 70BC     		pop	{r4, r5, r6}
 475 003c 7047     		bx	lr
 476              		.size	spi_lld_ignore, .-spi_lld_ignore
 477 003e 00BF     		.section	.text.spi_lld_exchange,"ax",%progbits
 478              		.align	2
 479              		.p2align 4,,15
 480              		.global	spi_lld_exchange
 481              		.thumb
 482              		.thumb_func
 483              		.type	spi_lld_exchange, %function
 484              	spi_lld_exchange:
 485              		@ args = 0, pretend = 0, frame = 0
 486              		@ frame_needed = 0, uses_anonymous_args = 0
 487              		@ link register save eliminated.
 488 0000 F0B4     		push	{r4, r5, r6, r7}
 489 0002 046A     		ldr	r4, [r0, #32]
 490 0004 476A     		ldr	r7, [r0, #36]
 491 0006 866A     		ldr	r6, [r0, #40]
 492 0008 C56A     		ldr	r5, [r0, #44]
 493 000a 2468     		ldr	r4, [r4]
 494 000c 3868     		ldr	r0, [r7]
 495 000e E360     		str	r3, [r4, #12]
 496 0010 46F48066 		orr	r6, r6, #1024
 497 0014 45F48065 		orr	r5, r5, #1024
 498 0018 6160     		str	r1, [r4, #4]
 499 001a 2660     		str	r6, [r4]
 500 001c C260     		str	r2, [r0, #12]
 501 001e 4160     		str	r1, [r0, #4]
 502 0020 0560     		str	r5, [r0]
 503 0022 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 10


 504 0024 43F00103 		orr	r3, r3, #1
 505 0028 2360     		str	r3, [r4]
 506 002a 0368     		ldr	r3, [r0]
 507 002c 43F00103 		orr	r3, r3, #1
 508 0030 0360     		str	r3, [r0]
 509 0032 F0BC     		pop	{r4, r5, r6, r7}
 510 0034 7047     		bx	lr
 511              		.size	spi_lld_exchange, .-spi_lld_exchange
 512 0036 00BFAFF3 		.section	.text.spi_lld_send,"ax",%progbits
 512      0080AFF3 
 512      0080
 513              		.align	2
 514              		.p2align 4,,15
 515              		.global	spi_lld_send
 516              		.thumb
 517              		.thumb_func
 518              		.type	spi_lld_send, %function
 519              	spi_lld_send:
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              		@ link register save eliminated.
 523 0000 F0B4     		push	{r4, r5, r6, r7}
 524 0002 036A     		ldr	r3, [r0, #32]
 525 0004 476A     		ldr	r7, [r0, #36]
 526 0006 C66A     		ldr	r6, [r0, #44]
 527 0008 1C68     		ldr	r4, [r3]
 528 000a 806A     		ldr	r0, [r0, #40]
 529 000c 3B68     		ldr	r3, [r7]
 530 000e 40F20005 		movw	r5, #:lower16:.LANCHOR4
 531 0012 C0F20005 		movt	r5, #:upper16:.LANCHOR4
 532 0016 46F48066 		orr	r6, r6, #1024
 533 001a E560     		str	r5, [r4, #12]
 534 001c 6160     		str	r1, [r4, #4]
 535 001e 2060     		str	r0, [r4]
 536 0020 DA60     		str	r2, [r3, #12]
 537 0022 5960     		str	r1, [r3, #4]
 538 0024 1E60     		str	r6, [r3]
 539 0026 2268     		ldr	r2, [r4]
 540 0028 42F00102 		orr	r2, r2, #1
 541 002c 2260     		str	r2, [r4]
 542 002e 1A68     		ldr	r2, [r3]
 543 0030 42F00102 		orr	r2, r2, #1
 544 0034 1A60     		str	r2, [r3]
 545 0036 F0BC     		pop	{r4, r5, r6, r7}
 546 0038 7047     		bx	lr
 547              		.size	spi_lld_send, .-spi_lld_send
 548 003a 00BFAFF3 		.section	.text.spi_lld_receive,"ax",%progbits
 548      0080
 549              		.align	2
 550              		.p2align 4,,15
 551              		.global	spi_lld_receive
 552              		.thumb
 553              		.thumb_func
 554              		.type	spi_lld_receive, %function
 555              	spi_lld_receive:
 556              		@ args = 0, pretend = 0, frame = 0
 557              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 11


 558              		@ link register save eliminated.
 559 0000 70B4     		push	{r4, r5, r6}
 560 0002 436A     		ldr	r3, [r0, #36]
 561 0004 046A     		ldr	r4, [r0, #32]
 562 0006 866A     		ldr	r6, [r0, #40]
 563 0008 2468     		ldr	r4, [r4]
 564 000a 1B68     		ldr	r3, [r3]
 565 000c C06A     		ldr	r0, [r0, #44]
 566 000e E260     		str	r2, [r4, #12]
 567 0010 40F20005 		movw	r5, #:lower16:.LANCHOR0
 568 0014 46F48066 		orr	r6, r6, #1024
 569 0018 C0F20005 		movt	r5, #:upper16:.LANCHOR0
 570 001c 6160     		str	r1, [r4, #4]
 571 001e 2660     		str	r6, [r4]
 572 0020 DD60     		str	r5, [r3, #12]
 573 0022 5960     		str	r1, [r3, #4]
 574 0024 1860     		str	r0, [r3]
 575 0026 2268     		ldr	r2, [r4]
 576 0028 42F00102 		orr	r2, r2, #1
 577 002c 2260     		str	r2, [r4]
 578 002e 1A68     		ldr	r2, [r3]
 579 0030 42F00102 		orr	r2, r2, #1
 580 0034 1A60     		str	r2, [r3]
 581 0036 70BC     		pop	{r4, r5, r6}
 582 0038 7047     		bx	lr
 583              		.size	spi_lld_receive, .-spi_lld_receive
 584 003a 00BFAFF3 		.section	.text.spi_lld_polled_exchange,"ax",%progbits
 584      0080
 585              		.align	2
 586              		.p2align 4,,15
 587              		.global	spi_lld_polled_exchange
 588              		.thumb
 589              		.thumb_func
 590              		.type	spi_lld_polled_exchange, %function
 591              	spi_lld_polled_exchange:
 592              		@ args = 0, pretend = 0, frame = 0
 593              		@ frame_needed = 0, uses_anonymous_args = 0
 594              		@ link register save eliminated.
 595 0000 C269     		ldr	r2, [r0, #28]
 596 0002 9181     		strh	r1, [r2, #12]	@ movhi
 597              	.L77:
 598 0004 1389     		ldrh	r3, [r2, #8]
 599 0006 DB07     		lsls	r3, r3, #31
 600 0008 FCD5     		bpl	.L77
 601 000a 9089     		ldrh	r0, [r2, #12]
 602 000c 80B2     		uxth	r0, r0
 603 000e 7047     		bx	lr
 604              		.size	spi_lld_polled_exchange, .-spi_lld_polled_exchange
 605              		.global	SPID3
 606              		.global	SPID2
 607              		.global	SPID1
 608              		.section	.bss.dummytx,"aw",%nobits
 609              		.align	1
 610              		.set	.LANCHOR0,. + 0
 611              		.type	dummytx, %object
 612              		.size	dummytx, 2
 613              	dummytx:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 12


 614 0000 0000     		.space	2
 615              		.section	.bss.SPID1,"aw",%nobits
 616              		.align	2
 617              		.set	.LANCHOR1,. + 0
 618              		.type	SPID1, %object
 619              		.size	SPID1, 48
 620              	SPID1:
 621 0000 00000000 		.space	48
 621      00000000 
 621      00000000 
 621      00000000 
 621      00000000 
 622              		.section	.bss.SPID2,"aw",%nobits
 623              		.align	2
 624              		.set	.LANCHOR2,. + 0
 625              		.type	SPID2, %object
 626              		.size	SPID2, 48
 627              	SPID2:
 628 0000 00000000 		.space	48
 628      00000000 
 628      00000000 
 628      00000000 
 628      00000000 
 629              		.section	.bss.SPID3,"aw",%nobits
 630              		.align	2
 631              		.set	.LANCHOR3,. + 0
 632              		.type	SPID3, %object
 633              		.size	SPID3, 48
 634              	SPID3:
 635 0000 00000000 		.space	48
 635      00000000 
 635      00000000 
 635      00000000 
 635      00000000 
 636              		.section	.rodata.str1.4,"aMS",%progbits,1
 637              		.align	2
 638              	.LC0:
 639 0000 7370695F 		.ascii	"spi_lld_start(), #1\000"
 639      6C6C645F 
 639      73746172 
 639      7428292C 
 639      20233100 
 640              	.LC1:
 641 0014 7370695F 		.ascii	"spi_lld_start(), #2\000"
 641      6C6C645F 
 641      73746172 
 641      7428292C 
 641      20233200 
 642              	.LC2:
 643 0028 7370695F 		.ascii	"spi_lld_start(), #3\000"
 643      6C6C645F 
 643      73746172 
 643      7428292C 
 643      20233300 
 644              	.LC3:
 645 003c 7370695F 		.ascii	"spi_lld_start(), #4\000"
 645      6C6C645F 
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 13


 645      73746172 
 645      7428292C 
 645      20233400 
 646              	.LC4:
 647 0050 7370695F 		.ascii	"spi_lld_start(), #5\000"
 647      6C6C645F 
 647      73746172 
 647      7428292C 
 647      20233500 
 648              	.LC5:
 649 0064 7370695F 		.ascii	"spi_lld_start(), #6\000"
 649      6C6C645F 
 649      73746172 
 649      7428292C 
 649      20233600 
 650              		.section	.bss.dummyrx,"aw",%nobits
 651              		.align	1
 652              		.set	.LANCHOR4,. + 0
 653              		.type	dummyrx, %object
 654              		.size	dummyrx, 2
 655              	dummyrx:
 656 0000 0000     		.space	2
 657              		.ident	"GCC: (Sourcery CodeBench Lite 2013.11-24) 4.8.1"
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 spi_lld.c
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:17     .text.spi_lld_serve_tx_interrupt:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:22     .text.spi_lld_serve_tx_interrupt:00000000 spi_lld_serve_tx_interrupt
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:29     .text.spi_lld_serve_rx_interrupt:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:34     .text.spi_lld_serve_rx_interrupt:00000000 spi_lld_serve_rx_interrupt
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:105    .text.spi_lld_init:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:111    .text.spi_lld_init:00000000 spi_lld_init
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:610    .bss.dummytx:00000000 .LANCHOR0
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:617    .bss.SPID1:00000000 .LANCHOR1
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:624    .bss.SPID2:00000000 .LANCHOR2
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:631    .bss.SPID3:00000000 .LANCHOR3
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:170    .text.spi_lld_init:000000ac $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:173    .text.spi_lld_start:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:179    .text.spi_lld_start:00000000 spi_lld_start
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:644    .rodata.str1.4:0000003c .LC3
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:642    .rodata.str1.4:00000028 .LC2
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:640    .rodata.str1.4:00000014 .LC1
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:638    .rodata.str1.4:00000000 .LC0
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:648    .rodata.str1.4:00000064 .LC5
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:646    .rodata.str1.4:00000050 .LC4
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:342    .text.spi_lld_stop:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:348    .text.spi_lld_stop:00000000 spi_lld_stop
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:401    .text.spi_lld_select:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:407    .text.spi_lld_select:00000000 spi_lld_select
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:421    .text.spi_lld_unselect:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:427    .text.spi_lld_unselect:00000000 spi_lld_unselect
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:441    .text.spi_lld_ignore:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:447    .text.spi_lld_ignore:00000000 spi_lld_ignore
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:652    .bss.dummyrx:00000000 .LANCHOR4
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:478    .text.spi_lld_exchange:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:484    .text.spi_lld_exchange:00000000 spi_lld_exchange
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:513    .text.spi_lld_send:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:519    .text.spi_lld_send:00000000 spi_lld_send
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:549    .text.spi_lld_receive:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:555    .text.spi_lld_receive:00000000 spi_lld_receive
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:585    .text.spi_lld_polled_exchange:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:591    .text.spi_lld_polled_exchange:00000000 spi_lld_polled_exchange
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:634    .bss.SPID3:00000000 SPID3
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:627    .bss.SPID2:00000000 SPID2
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:620    .bss.SPID1:00000000 SPID1
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:609    .bss.dummytx:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:613    .bss.dummytx:00000000 dummytx
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:616    .bss.SPID1:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:623    .bss.SPID2:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:630    .bss.SPID3:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:637    .rodata.str1.4:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:651    .bss.dummyrx:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s:655    .bss.dummyrx:00000000 dummyrx

UNDEFINED SYMBOLS
dbg_check_lock_from_isr
chSchReadyI
dbg_check_unlock_from_isr
spiObjectInit
_stm32_dma_streams
dmaStreamAllocate
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccP1A6rc.s 			page 15


chDbgPanic
dmaStreamRelease
