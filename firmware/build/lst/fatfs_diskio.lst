ARM GAS  C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"fatfs_diskio.c"
  16              		.section	.text.disk_initialize,"ax",%progbits
  17              		.align	2
  18              		.p2align 4,,15
  19              		.global	disk_initialize
  20              		.thumb
  21              		.thumb_func
  22              		.type	disk_initialize, %function
  23              	disk_initialize:
  24              		@ args = 0, pretend = 0, frame = 0
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26 0000 10B5     		push	{r4, lr}
  27 0002 0224     		movs	r4, #2
  28 0004 08B1     		cbz	r0, .L10
  29              	.L2:
  30 0006 2046     		mov	r0, r4
  31 0008 10BD     		pop	{r4, pc}
  32              	.L10:
  33 000a 40F20003 		movw	r3, #:lower16:MMCD1
  34 000e C0F20003 		movt	r3, #:upper16:MMCD1
  35 0012 1846     		mov	r0, r3
  36 0014 1C79     		ldrb	r4, [r3, #4]	@ zero_extendqisi2
  37 0016 053C     		subs	r4, r4, #5
  38 0018 18BF     		it	ne
  39 001a 0124     		movne	r4, #1
  40 001c FFF7FEFF 		bl	mmc_lld_is_write_protected
  41 0020 0028     		cmp	r0, #0
  42 0022 F0D0     		beq	.L2
  43 0024 44F00404 		orr	r4, r4, #4
  44 0028 E4B2     		uxtb	r4, r4
  45 002a 2046     		mov	r0, r4
  46 002c 10BD     		pop	{r4, pc}
  47              		.size	disk_initialize, .-disk_initialize
  48 002e 00BF     		.section	.text.disk_status,"ax",%progbits
  49              		.align	2
  50              		.p2align 4,,15
  51              		.global	disk_status
  52              		.thumb
  53              		.thumb_func
  54              		.type	disk_status, %function
  55              	disk_status:
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s 			page 2


  58 0000 10B5     		push	{r4, lr}
  59 0002 0224     		movs	r4, #2
  60 0004 08B1     		cbz	r0, .L19
  61              	.L12:
  62 0006 2046     		mov	r0, r4
  63 0008 10BD     		pop	{r4, pc}
  64              	.L19:
  65 000a 40F20003 		movw	r3, #:lower16:MMCD1
  66 000e C0F20003 		movt	r3, #:upper16:MMCD1
  67 0012 1846     		mov	r0, r3
  68 0014 1C79     		ldrb	r4, [r3, #4]	@ zero_extendqisi2
  69 0016 053C     		subs	r4, r4, #5
  70 0018 18BF     		it	ne
  71 001a 0124     		movne	r4, #1
  72 001c FFF7FEFF 		bl	mmc_lld_is_write_protected
  73 0020 0028     		cmp	r0, #0
  74 0022 F0D0     		beq	.L12
  75 0024 44F00404 		orr	r4, r4, #4
  76 0028 E4B2     		uxtb	r4, r4
  77 002a 2046     		mov	r0, r4
  78 002c 10BD     		pop	{r4, pc}
  79              		.size	disk_status, .-disk_status
  80 002e 00BF     		.section	.text.disk_read,"ax",%progbits
  81              		.align	2
  82              		.p2align 4,,15
  83              		.global	disk_read
  84              		.thumb
  85              		.thumb_func
  86              		.type	disk_read, %function
  87              	disk_read:
  88              		@ args = 0, pretend = 0, frame = 8
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90 0000 10B5     		push	{r4, lr}
  91 0002 0C46     		mov	r4, r1
  92 0004 82B0     		sub	sp, sp, #8
  93 0006 10B1     		cbz	r0, .L34
  94 0008 0420     		movs	r0, #4
  95              	.L21:
  96 000a 02B0     		add	sp, sp, #8
  97              		@ sp needed
  98 000c 10BD     		pop	{r4, pc}
  99              	.L34:
 100 000e 40F20000 		movw	r0, #:lower16:MMCD1
 101 0012 C0F20000 		movt	r0, #:upper16:MMCD1
 102 0016 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 103 0018 0529     		cmp	r1, #5
 104 001a 18BF     		it	ne
 105 001c 0320     		movne	r0, #3
 106 001e F4D1     		bne	.L21
 107 0020 1146     		mov	r1, r2
 108 0022 0193     		str	r3, [sp, #4]
 109 0024 FFF7FEFF 		bl	mmcStartSequentialRead
 110 0028 019B     		ldr	r3, [sp, #4]
 111 002a 90B9     		cbnz	r0, .L25
 112 002c 1BB9     		cbnz	r3, .L27
 113 002e 12E0     		b	.L26
 114              	.L35:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s 			page 3


 115 0030 13F0FF03 		ands	r3, r3, #255
 116 0034 0FD0     		beq	.L26
 117              	.L27:
 118 0036 40F20000 		movw	r0, #:lower16:MMCD1
 119 003a 2146     		mov	r1, r4
 120 003c C0F20000 		movt	r0, #:upper16:MMCD1
 121 0040 0193     		str	r3, [sp, #4]
 122 0042 FFF7FEFF 		bl	mmcSequentialRead
 123 0046 019B     		ldr	r3, [sp, #4]
 124 0048 04F50074 		add	r4, r4, #512
 125 004c 013B     		subs	r3, r3, #1
 126 004e 0028     		cmp	r0, #0
 127 0050 EED0     		beq	.L35
 128              	.L25:
 129 0052 0120     		movs	r0, #1
 130 0054 D9E7     		b	.L21
 131              	.L26:
 132 0056 40F20000 		movw	r0, #:lower16:MMCD1
 133 005a C0F20000 		movt	r0, #:upper16:MMCD1
 134 005e 02B0     		add	sp, sp, #8
 135              		@ sp needed
 136 0060 BDE81040 		pop	{r4, lr}
 137 0064 FFF7FEBF 		b	mmcStopSequentialRead
 138              		.size	disk_read, .-disk_read
 139 0068 AFF30080 		.section	.text.disk_write,"ax",%progbits
 139      AFF30080 
 140              		.align	2
 141              		.p2align 4,,15
 142              		.global	disk_write
 143              		.thumb
 144              		.thumb_func
 145              		.type	disk_write, %function
 146              	disk_write:
 147              		@ args = 0, pretend = 0, frame = 8
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149 0000 30B5     		push	{r4, r5, lr}
 150 0002 0D46     		mov	r5, r1
 151 0004 83B0     		sub	sp, sp, #12
 152 0006 10B1     		cbz	r0, .L51
 153 0008 0420     		movs	r0, #4
 154              	.L37:
 155 000a 03B0     		add	sp, sp, #12
 156              		@ sp needed
 157 000c 30BD     		pop	{r4, r5, pc}
 158              	.L51:
 159 000e 40F20004 		movw	r4, #:lower16:MMCD1
 160 0012 C0F20004 		movt	r4, #:upper16:MMCD1
 161 0016 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 162 0018 0529     		cmp	r1, #5
 163 001a 18BF     		it	ne
 164 001c 0320     		movne	r0, #3
 165 001e F4D1     		bne	.L37
 166 0020 2046     		mov	r0, r4
 167 0022 0192     		str	r2, [sp, #4]
 168 0024 0093     		str	r3, [sp]
 169 0026 FFF7FEFF 		bl	mmc_lld_is_write_protected
 170 002a 019A     		ldr	r2, [sp, #4]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s 			page 4


 171 002c 08B1     		cbz	r0, .L52
 172 002e 0220     		movs	r0, #2
 173 0030 EBE7     		b	.L37
 174              	.L52:
 175 0032 2046     		mov	r0, r4
 176 0034 1146     		mov	r1, r2
 177 0036 FFF7FEFF 		bl	mmcStartSequentialWrite
 178 003a 009B     		ldr	r3, [sp]
 179 003c 90B9     		cbnz	r0, .L41
 180 003e 1BB9     		cbnz	r3, .L43
 181 0040 12E0     		b	.L42
 182              	.L53:
 183 0042 13F0FF03 		ands	r3, r3, #255
 184 0046 0FD0     		beq	.L42
 185              	.L43:
 186 0048 40F20000 		movw	r0, #:lower16:MMCD1
 187 004c 2946     		mov	r1, r5
 188 004e C0F20000 		movt	r0, #:upper16:MMCD1
 189 0052 0093     		str	r3, [sp]
 190 0054 FFF7FEFF 		bl	mmcSequentialWrite
 191 0058 009B     		ldr	r3, [sp]
 192 005a 05F50075 		add	r5, r5, #512
 193 005e 013B     		subs	r3, r3, #1
 194 0060 0028     		cmp	r0, #0
 195 0062 EED0     		beq	.L53
 196              	.L41:
 197 0064 0120     		movs	r0, #1
 198 0066 D0E7     		b	.L37
 199              	.L42:
 200 0068 40F20000 		movw	r0, #:lower16:MMCD1
 201 006c C0F20000 		movt	r0, #:upper16:MMCD1
 202 0070 03B0     		add	sp, sp, #12
 203              		@ sp needed
 204 0072 BDE83040 		pop	{r4, r5, lr}
 205 0076 FFF7FEBF 		b	mmcStopSequentialWrite
 206              		.size	disk_write, .-disk_write
 207 007a 00BFAFF3 		.section	.text.disk_ioctl,"ax",%progbits
 207      0080
 208              		.align	2
 209              		.p2align 4,,15
 210              		.global	disk_ioctl
 211              		.thumb
 212              		.thumb_func
 213              		.type	disk_ioctl, %function
 214              	disk_ioctl:
 215              		@ args = 0, pretend = 0, frame = 0
 216              		@ frame_needed = 0, uses_anonymous_args = 0
 217              		@ link register save eliminated.
 218 0000 08B1     		cbz	r0, .L63
 219              	.L62:
 220 0002 0420     		movs	r0, #4
 221 0004 7047     		bx	lr
 222              	.L63:
 223 0006 29B1     		cbz	r1, .L57
 224 0008 0229     		cmp	r1, #2
 225 000a FAD1     		bne	.L62
 226 000c 4FF40073 		mov	r3, #512
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s 			page 5


 227 0010 1380     		strh	r3, [r2]	@ movhi
 228 0012 7047     		bx	lr
 229              	.L57:
 230 0014 0846     		mov	r0, r1
 231 0016 7047     		bx	lr
 232              		.size	disk_ioctl, .-disk_ioctl
 233 0018 AFF30080 		.section	.text.get_fattime,"ax",%progbits
 233      AFF30080 
 234              		.align	2
 235              		.p2align 4,,15
 236              		.global	get_fattime
 237              		.thumb
 238              		.thumb_func
 239              		.type	get_fattime, %function
 240              	get_fattime:
 241              		@ args = 0, pretend = 0, frame = 0
 242              		@ frame_needed = 0, uses_anonymous_args = 0
 243              		@ link register save eliminated.
 244 0000 40F20000 		movw	r0, #:lower16:RTCD1
 245 0004 C0F20000 		movt	r0, #:upper16:RTCD1
 246 0008 FFF7FEBF 		b	rtcGetTimeFat
 247              		.size	get_fattime, .-get_fattime
 248 000c AFF30080 		.ident	"GCC: (Sourcery CodeBench Lite 2013.11-24) 4.8.1"
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 fatfs_diskio.c
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:17     .text.disk_initialize:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:23     .text.disk_initialize:00000000 disk_initialize
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:49     .text.disk_status:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:55     .text.disk_status:00000000 disk_status
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:81     .text.disk_read:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:87     .text.disk_read:00000000 disk_read
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:140    .text.disk_write:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:146    .text.disk_write:00000000 disk_write
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:208    .text.disk_ioctl:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:214    .text.disk_ioctl:00000000 disk_ioctl
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:234    .text.get_fattime:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccEuzJeb.s:240    .text.get_fattime:00000000 get_fattime

UNDEFINED SYMBOLS
MMCD1
mmc_lld_is_write_protected
mmcStartSequentialRead
mmcSequentialRead
mmcStopSequentialRead
mmcStartSequentialWrite
mmcSequentialWrite
mmcStopSequentialWrite
RTCD1
rtcGetTimeFat
