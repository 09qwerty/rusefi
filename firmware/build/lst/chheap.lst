ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"chheap.c"
  16              		.section	.text._heap_init,"ax",%progbits
  17              		.align	2
  18              		.p2align 4,,15
  19              		.global	_heap_init
  20              		.thumb
  21              		.thumb_func
  22              		.type	_heap_init, %function
  23              	_heap_init:
  24              		@ args = 0, pretend = 0, frame = 0
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26              		@ link register save eliminated.
  27 0000 40F20003 		movw	r3, #:lower16:.LANCHOR0
  28 0004 C0F20003 		movt	r3, #:upper16:.LANCHOR0
  29 0008 40F20002 		movw	r2, #:lower16:chCoreAlloc
  30 000c 0021     		movs	r1, #0
  31 000e C0F20002 		movt	r2, #:upper16:chCoreAlloc
  32 0012 03F11000 		add	r0, r3, #16
  33 0016 1A60     		str	r2, [r3]
  34 0018 9960     		str	r1, [r3, #8]
  35 001a D960     		str	r1, [r3, #12]
  36 001c FFF7FEBF 		b	chMtxInit
  37              		.size	_heap_init, .-_heap_init
  38              		.section	.text.chHeapInit,"ax",%progbits
  39              		.align	2
  40              		.p2align 4,,15
  41              		.global	chHeapInit
  42              		.thumb
  43              		.thumb_func
  44              		.type	chHeapInit, %function
  45              	chHeapInit:
  46              		@ args = 0, pretend = 0, frame = 0
  47              		@ frame_needed = 0, uses_anonymous_args = 0
  48 0000 70B5     		push	{r4, r5, r6, lr}
  49 0002 1646     		mov	r6, r2
  50 0004 4A07     		lsls	r2, r1, #29
  51 0006 0C46     		mov	r4, r1
  52 0008 0546     		mov	r5, r0
  53 000a 01D1     		bne	.L3
  54 000c 7307     		lsls	r3, r6, #29
  55 000e 0AD0     		beq	.L4
  56              	.L3:
  57 0010 40F20000 		movw	r0, #:lower16:.LC0
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 2


  58 0014 40F20001 		movw	r1, #:lower16:.LC1
  59 0018 C0F20000 		movt	r0, #:upper16:.LC0
  60 001c C0F20001 		movt	r1, #:upper16:.LC1
  61 0020 6622     		movs	r2, #102
  62 0022 FFF7FEFF 		bl	chDbgPanic3
  63              	.L4:
  64 0026 0023     		movs	r3, #0
  65 0028 083E     		subs	r6, r6, #8
  66 002a AC60     		str	r4, [r5, #8]
  67 002c 2B60     		str	r3, [r5]
  68 002e EB60     		str	r3, [r5, #12]
  69 0030 84E84800 		stmia	r4, {r3, r6}
  70 0034 05F11000 		add	r0, r5, #16
  71 0038 BDE87040 		pop	{r4, r5, r6, lr}
  72 003c FFF7FEBF 		b	chMtxInit
  73              		.size	chHeapInit, .-chHeapInit
  74              		.section	.text.chHeapAlloc,"ax",%progbits
  75              		.align	2
  76              		.p2align 4,,15
  77              		.global	chHeapAlloc
  78              		.thumb
  79              		.thumb_func
  80              		.type	chHeapAlloc, %function
  81              	chHeapAlloc:
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  85 0002 40F20006 		movw	r6, #:lower16:.LANCHOR0
  86 0006 C0F20006 		movt	r6, #:upper16:.LANCHOR0
  87 000a 0028     		cmp	r0, #0
  88 000c 18BF     		it	ne
  89 000e 0646     		movne	r6, r0
  90 0010 0731     		adds	r1, r1, #7
  91 0012 06F11000 		add	r0, r6, #16
  92 0016 21F00705 		bic	r5, r1, #7
  93 001a 06F10804 		add	r4, r6, #8
  94 001e FFF7FEFF 		bl	chMtxLock
  95 0022 03E0     		b	.L11
  96              	.L16:
  97 0024 5A68     		ldr	r2, [r3, #4]
  98 0026 9542     		cmp	r5, r2
  99 0028 11D9     		bls	.L23
 100 002a 1C46     		mov	r4, r3
 101              	.L11:
 102 002c 2368     		ldr	r3, [r4]
 103 002e 002B     		cmp	r3, #0
 104 0030 F8D1     		bne	.L16
 105 0032 FFF7FEFF 		bl	chMtxUnlock
 106 0036 3368     		ldr	r3, [r6]
 107 0038 1BB3     		cbz	r3, .L18
 108 003a 05F10800 		add	r0, r5, #8
 109 003e 9847     		blx	r3
 110 0040 F8B1     		cbz	r0, .L18
 111 0042 0660     		str	r6, [r0]
 112 0044 4560     		str	r5, [r0, #4]
 113 0046 00F10804 		add	r4, r0, #8
 114              	.L15:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 3


 115 004a 2046     		mov	r0, r4
 116 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 117              	.L23:
 118 004e 05F10801 		add	r1, r5, #8
 119 0052 9142     		cmp	r1, r2
 120 0054 08D9     		bls	.L13
 121 0056 1A68     		ldr	r2, [r3]
 122 0058 2260     		str	r2, [r4]
 123              	.L14:
 124 005a 1C46     		mov	r4, r3
 125 005c 44F8086B 		str	r6, [r4], #8
 126 0060 FFF7FEFF 		bl	chMtxUnlock
 127 0064 2046     		mov	r0, r4
 128 0066 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 129              	.L13:
 130 0068 4FF6F870 		movw	r0, #65528
 131 006c CFF6FF70 		movt	r0, 65535
 132 0070 401B     		subs	r0, r0, r5
 133 0072 5F18     		adds	r7, r3, r1
 134 0074 0244     		add	r2, r2, r0
 135 0076 1868     		ldr	r0, [r3]
 136 0078 5850     		str	r0, [r3, r1]
 137 007a 7A60     		str	r2, [r7, #4]
 138 007c 2760     		str	r7, [r4]
 139 007e 5D60     		str	r5, [r3, #4]
 140 0080 EBE7     		b	.L14
 141              	.L18:
 142 0082 0024     		movs	r4, #0
 143 0084 E1E7     		b	.L15
 144              		.size	chHeapAlloc, .-chHeapAlloc
 145 0086 00BFAFF3 		.section	.text.chHeapFree,"ax",%progbits
 145      0080AFF3 
 145      0080
 146              		.align	2
 147              		.p2align 4,,15
 148              		.global	chHeapFree
 149              		.thumb
 150              		.thumb_func
 151              		.type	chHeapFree, %function
 152              	chHeapFree:
 153              		@ args = 0, pretend = 0, frame = 0
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 156 0002 0746     		mov	r7, r0
 157 0004 0028     		cmp	r0, #0
 158 0006 5AD0     		beq	.L38
 159              	.L25:
 160 0008 57F8086C 		ldr	r6, [r7, #-8]
 161 000c 06F11000 		add	r0, r6, #16
 162 0010 FFF7FEFF 		bl	chMtxLock
 163 0014 0836     		adds	r6, r6, #8
 164 0016 3446     		mov	r4, r6
 165 0018 A7F10805 		sub	r5, r7, #8
 166              	.L33:
 167 001c AC42     		cmp	r4, r5
 168 001e 04D8     		bhi	.L26
 169 0020 6368     		ldr	r3, [r4, #4]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 4


 170 0022 0833     		adds	r3, r3, #8
 171 0024 2344     		add	r3, r3, r4
 172 0026 9D42     		cmp	r5, r3
 173 0028 0BD3     		bcc	.L39
 174              	.L26:
 175 002a B442     		cmp	r4, r6
 176 002c 11D0     		beq	.L27
 177              	.L40:
 178 002e AC42     		cmp	r4, r5
 179 0030 0FD3     		bcc	.L27
 180 0032 2468     		ldr	r4, [r4]
 181 0034 AC42     		cmp	r4, r5
 182 0036 F8D8     		bhi	.L26
 183 0038 6368     		ldr	r3, [r4, #4]
 184 003a 0833     		adds	r3, r3, #8
 185 003c 2344     		add	r3, r3, r4
 186 003e 9D42     		cmp	r5, r3
 187 0040 F3D2     		bcs	.L26
 188              	.L39:
 189 0042 40F20000 		movw	r0, #:lower16:.LC3
 190 0046 C0F20000 		movt	r0, #:upper16:.LC3
 191 004a FFF7FEFF 		bl	chDbgPanic
 192 004e B442     		cmp	r4, r6
 193 0050 EDD1     		bne	.L40
 194              	.L27:
 195 0052 2368     		ldr	r3, [r4]
 196 0054 1BB1     		cbz	r3, .L29
 197 0056 9D42     		cmp	r5, r3
 198 0058 01D3     		bcc	.L29
 199 005a 1C46     		mov	r4, r3
 200 005c DEE7     		b	.L33
 201              	.L29:
 202 005e 57F8042C 		ldr	r2, [r7, #-4]
 203 0062 47F8083C 		str	r3, [r7, #-8]
 204 0066 2560     		str	r5, [r4]
 205 0068 02F10803 		add	r3, r2, #8
 206 006c 57F8080C 		ldr	r0, [r7, #-8]
 207 0070 E918     		adds	r1, r5, r3
 208 0072 8142     		cmp	r1, r0
 209 0074 09D0     		beq	.L41
 210 0076 6368     		ldr	r3, [r4, #4]
 211 0078 03F10802 		add	r2, r3, #8
 212 007c 2244     		add	r2, r2, r4
 213 007e 9542     		cmp	r5, r2
 214 0080 11D0     		beq	.L42
 215              	.L32:
 216 0082 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 217 0086 FFF7FEBF 		b	chMtxUnlock
 218              	.L41:
 219 008a 4968     		ldr	r1, [r1, #4]
 220 008c EB58     		ldr	r3, [r5, r3]
 221 008e 0A44     		add	r2, r2, r1
 222 0090 0832     		adds	r2, r2, #8
 223 0092 47F8042C 		str	r2, [r7, #-4]
 224 0096 47F8083C 		str	r3, [r7, #-8]
 225 009a 6368     		ldr	r3, [r4, #4]
 226 009c 03F10802 		add	r2, r3, #8
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 5


 227 00a0 2244     		add	r2, r2, r4
 228 00a2 9542     		cmp	r5, r2
 229 00a4 EDD1     		bne	.L32
 230              	.L42:
 231 00a6 57F8041C 		ldr	r1, [r7, #-4]
 232 00aa 57F8082C 		ldr	r2, [r7, #-8]
 233 00ae 0B44     		add	r3, r3, r1
 234 00b0 0833     		adds	r3, r3, #8
 235 00b2 84E80C00 		stmia	r4, {r2, r3}
 236 00b6 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 237 00ba FFF7FEBF 		b	chMtxUnlock
 238              	.L38:
 239 00be 40F20000 		movw	r0, #:lower16:.LC2
 240 00c2 40F20001 		movw	r1, #:lower16:.LC1
 241 00c6 C0F20000 		movt	r0, #:upper16:.LC2
 242 00ca C0F20001 		movt	r1, #:upper16:.LC1
 243 00ce C622     		movs	r2, #198
 244 00d0 FFF7FEFF 		bl	chDbgPanic3
 245 00d4 98E7     		b	.L25
 246              		.size	chHeapFree, .-chHeapFree
 247 00d6 00BFAFF3 		.section	.text.chHeapStatus,"ax",%progbits
 247      0080AFF3 
 247      0080
 248              		.align	2
 249              		.p2align 4,,15
 250              		.global	chHeapStatus
 251              		.thumb
 252              		.thumb_func
 253              		.type	chHeapStatus, %function
 254              	chHeapStatus:
 255              		@ args = 0, pretend = 0, frame = 0
 256              		@ frame_needed = 0, uses_anonymous_args = 0
 257 0000 38B5     		push	{r3, r4, r5, lr}
 258 0002 40F20003 		movw	r3, #:lower16:.LANCHOR0
 259 0006 C0F20003 		movt	r3, #:upper16:.LANCHOR0
 260 000a 0028     		cmp	r0, #0
 261 000c 14BF     		ite	ne
 262 000e 0446     		movne	r4, r0
 263 0010 1C46     		moveq	r4, r3
 264 0012 04F11000 		add	r0, r4, #16
 265 0016 0D46     		mov	r5, r1
 266 0018 FFF7FEFF 		bl	chMtxLock
 267 001c A368     		ldr	r3, [r4, #8]
 268 001e 6BB1     		cbz	r3, .L49
 269 0020 0022     		movs	r2, #0
 270 0022 1446     		mov	r4, r2
 271              	.L46:
 272 0024 5868     		ldr	r0, [r3, #4]
 273 0026 1B68     		ldr	r3, [r3]
 274 0028 0134     		adds	r4, r4, #1
 275 002a 0244     		add	r2, r2, r0
 276 002c 002B     		cmp	r3, #0
 277 002e F9D1     		bne	.L46
 278              	.L45:
 279 0030 05B1     		cbz	r5, .L47
 280 0032 2A60     		str	r2, [r5]
 281              	.L47:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 6


 282 0034 FFF7FEFF 		bl	chMtxUnlock
 283 0038 2046     		mov	r0, r4
 284 003a 38BD     		pop	{r3, r4, r5, pc}
 285              	.L49:
 286 003c 1A46     		mov	r2, r3
 287 003e 1C46     		mov	r4, r3
 288 0040 F6E7     		b	.L45
 289              		.size	chHeapStatus, .-chHeapStatus
 290 0042 00BFAFF3 		.section	.rodata.str1.4,"aMS",%progbits,1
 290      0080AFF3 
 290      0080AFF3 
 290      0080
 291              		.align	2
 292              	.LC0:
 293 0000 22636848 		.ascii	"\"chHeapInit\"()\000"
 293      65617049 
 293      6E697422 
 293      282900
 294 000f 00       		.space	1
 295              	.LC1:
 296 0010 63686962 		.ascii	"chibios/os/kernel/src/chheap.c\000"
 296      696F732F 
 296      6F732F6B 
 296      65726E65 
 296      6C2F7372 
 297 002f 00       		.space	1
 298              	.LC2:
 299 0030 22636848 		.ascii	"\"chHeapFree\"()\000"
 299      65617046 
 299      72656522 
 299      282900
 300 003f 00       		.space	1
 301              	.LC3:
 302 0040 63684865 		.ascii	"chHeapFree(), #1\000"
 302      61704672 
 302      65652829 
 302      2C202331 
 302      00
 303 0051 000000   		.section	.bss.default_heap,"aw",%nobits
 304              		.align	3
 305              		.set	.LANCHOR0,. + 0
 306              		.type	default_heap, %object
 307              		.size	default_heap, 32
 308              	default_heap:
 309 0000 00000000 		.space	32
 309      00000000 
 309      00000000 
 309      00000000 
 309      00000000 
 310              		.ident	"GCC: (Sourcery CodeBench Lite 2013.11-24) 4.8.1"
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 chheap.c
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:17     .text._heap_init:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:23     .text._heap_init:00000000 _heap_init
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:305    .bss.default_heap:00000000 .LANCHOR0
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:39     .text.chHeapInit:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:45     .text.chHeapInit:00000000 chHeapInit
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:292    .rodata.str1.4:00000000 .LC0
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:295    .rodata.str1.4:00000010 .LC1
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:75     .text.chHeapAlloc:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:81     .text.chHeapAlloc:00000000 chHeapAlloc
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:146    .text.chHeapFree:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:152    .text.chHeapFree:00000000 chHeapFree
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:301    .rodata.str1.4:00000040 .LC3
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:298    .rodata.str1.4:00000030 .LC2
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:248    .text.chHeapStatus:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:254    .text.chHeapStatus:00000000 chHeapStatus
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:291    .rodata.str1.4:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:304    .bss.default_heap:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccJc14zQ.s:308    .bss.default_heap:00000000 default_heap

UNDEFINED SYMBOLS
chCoreAlloc
chMtxInit
chDbgPanic3
chMtxLock
chMtxUnlock
chDbgPanic
