ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"i2c_lld.c"
  16              		.section	.text.i2c_lld_abort_operation,"ax",%progbits
  17              		.align	2
  18              		.p2align 4,,15
  19              		.thumb
  20              		.thumb_func
  21              		.type	i2c_lld_abort_operation, %function
  22              	i2c_lld_abort_operation:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 10B4     		push	{r4}
  27 0002 436B     		ldr	r3, [r0, #52]
  28 0004 046B     		ldr	r4, [r0, #48]
  29 0006 4FF40041 		mov	r1, #32768
  30 000a 2268     		ldr	r2, [r4]
  31 000c 1980     		strh	r1, [r3]	@ movhi
  32 000e 0021     		movs	r1, #0
  33 0010 1980     		strh	r1, [r3]	@ movhi
  34 0012 9980     		strh	r1, [r3, #4]	@ movhi
  35 0014 9982     		strh	r1, [r3, #20]	@ movhi
  36 0016 1368     		ldr	r3, [r2]
  37 0018 23F01F03 		bic	r3, r3, #31
  38 001c 1360     		str	r3, [r2]
  39              	.L3:
  40 001e 1368     		ldr	r3, [r2]
  41 0020 D907     		lsls	r1, r3, #31
  42 0022 FCD4     		bmi	.L3
  43 0024 C16A     		ldr	r1, [r0, #44]
  44 0026 207A     		ldrb	r0, [r4, #8]	@ zero_extendqisi2
  45 0028 6368     		ldr	r3, [r4, #4]
  46 002a 0A68     		ldr	r2, [r1]
  47 002c 3D24     		movs	r4, #61
  48 002e 04FA00F0 		lsl	r0, r4, r0
  49 0032 1860     		str	r0, [r3]
  50 0034 1368     		ldr	r3, [r2]
  51 0036 23F01F03 		bic	r3, r3, #31
  52 003a 1360     		str	r3, [r2]
  53              	.L5:
  54 003c 1368     		ldr	r3, [r2]
  55 003e DB07     		lsls	r3, r3, #31
  56 0040 FCD4     		bmi	.L5
  57 0042 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 2


  58 0044 4B68     		ldr	r3, [r1, #4]
  59 0046 5DF8044B 		ldr	r4, [sp], #4
  60 004a 3D21     		movs	r1, #61
  61 004c 01FA02F2 		lsl	r2, r1, r2
  62 0050 1A60     		str	r2, [r3]
  63 0052 7047     		bx	lr
  64              		.size	i2c_lld_abort_operation, .-i2c_lld_abort_operation
  65 0054 AFF30080 		.section	.text.i2c_lld_safety_timeout,"ax",%progbits
  65      AFF30080 
  65      AFF30080 
  66              		.align	2
  67              		.p2align 4,,15
  68              		.thumb
  69              		.thumb_func
  70              		.type	i2c_lld_safety_timeout, %function
  71              	i2c_lld_safety_timeout:
  72              		@ args = 0, pretend = 0, frame = 0
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74 0000 38B5     		push	{r3, r4, r5, lr}
  75 0002 0446     		mov	r4, r0
  76 0004 2023     		movs	r3, #32
  77              	@ 166 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
  78 0006 83F31188 		msr     BASEPRI, r3
  79              	@ 0 "" 2
  80              		.thumb
  81 000a FFF7FEFF 		bl	dbg_check_lock_from_isr
  82 000e E569     		ldr	r5, [r4, #28]
  83 0010 55B1     		cbz	r5, .L8
  84 0012 2046     		mov	r0, r4
  85 0014 FFF7FEFF 		bl	i2c_lld_abort_operation
  86 0018 0022     		movs	r2, #0
  87 001a 4FF0FF33 		mov	r3, #-1
  88 001e E261     		str	r2, [r4, #28]
  89 0020 2846     		mov	r0, r5
  90 0022 AB62     		str	r3, [r5, #40]
  91 0024 FFF7FEFF 		bl	chSchReadyI
  92              	.L8:
  93 0028 FFF7FEFF 		bl	dbg_check_unlock_from_isr
  94 002c 0023     		movs	r3, #0
  95              	@ 174 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
  96 002e 83F31188 		msr     BASEPRI, r3
  97              	@ 0 "" 2
  98              		.thumb
  99 0032 38BD     		pop	{r3, r4, r5, pc}
 100              		.size	i2c_lld_safety_timeout, .-i2c_lld_safety_timeout
 101 0034 AFF30080 		.section	.text.i2c_lld_serve_tx_end_irq,"ax",%progbits
 101      AFF30080 
 101      AFF30080 
 102              		.align	2
 103              		.p2align 4,,15
 104              		.thumb
 105              		.thumb_func
 106              		.type	i2c_lld_serve_tx_end_irq, %function
 107              	i2c_lld_serve_tx_end_irq:
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110 0000 11F00C0F 		tst	r1, #12
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 3


 111 0004 38B5     		push	{r3, r4, r5, lr}
 112 0006 0546     		mov	r5, r0
 113 0008 446B     		ldr	r4, [r0, #52]
 114 000a 14D1     		bne	.L19
 115              	.L13:
 116 000c 296B     		ldr	r1, [r5, #48]
 117 000e 0A68     		ldr	r2, [r1]
 118 0010 1368     		ldr	r3, [r2]
 119 0012 23F01F03 		bic	r3, r3, #31
 120 0016 1360     		str	r3, [r2]
 121              	.L15:
 122 0018 1368     		ldr	r3, [r2]
 123 001a D807     		lsls	r0, r3, #31
 124 001c FCD4     		bmi	.L15
 125 001e 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 126 0020 4B68     		ldr	r3, [r1, #4]
 127 0022 3D21     		movs	r1, #61
 128 0024 01FA02F2 		lsl	r2, r1, r2
 129 0028 1A60     		str	r2, [r3]
 130 002a A388     		ldrh	r3, [r4, #4]
 131 002c 9BB2     		uxth	r3, r3
 132 002e 43F40073 		orr	r3, r3, #512
 133 0032 A380     		strh	r3, [r4, #4]	@ movhi
 134 0034 38BD     		pop	{r3, r4, r5, pc}
 135              	.L19:
 136 0036 FFF7FEFF 		bl	port_halt
 137 003a E7E7     		b	.L13
 138              		.size	i2c_lld_serve_tx_end_irq, .-i2c_lld_serve_tx_end_irq
 139 003c AFF30080 		.section	.text.i2c_lld_serve_rx_end_irq,"ax",%progbits
 140              		.align	2
 141              		.p2align 4,,15
 142              		.thumb
 143              		.thumb_func
 144              		.type	i2c_lld_serve_rx_end_irq, %function
 145              	i2c_lld_serve_rx_end_irq:
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148 0000 11F00C0F 		tst	r1, #12
 149 0004 38B5     		push	{r3, r4, r5, lr}
 150 0006 0546     		mov	r5, r0
 151 0008 446B     		ldr	r4, [r0, #52]
 152 000a 32D1     		bne	.L31
 153              	.L21:
 154 000c E96A     		ldr	r1, [r5, #44]
 155 000e 0A68     		ldr	r2, [r1]
 156 0010 1368     		ldr	r3, [r2]
 157 0012 23F01F03 		bic	r3, r3, #31
 158 0016 1360     		str	r3, [r2]
 159              	.L23:
 160 0018 1368     		ldr	r3, [r2]
 161 001a DB07     		lsls	r3, r3, #31
 162 001c FCD4     		bmi	.L23
 163 001e 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 164 0020 4B68     		ldr	r3, [r1, #4]
 165 0022 3D21     		movs	r1, #61
 166 0024 01FA02F2 		lsl	r2, r1, r2
 167 0028 1A60     		str	r2, [r3]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 4


 168 002a A388     		ldrh	r3, [r4, #4]
 169 002c 23F48053 		bic	r3, r3, #4096
 170 0030 1B04     		lsls	r3, r3, #16
 171 0032 1B0C     		lsrs	r3, r3, #16
 172 0034 A380     		strh	r3, [r4, #4]	@ movhi
 173 0036 2388     		ldrh	r3, [r4]
 174 0038 23F48063 		bic	r3, r3, #1024
 175 003c 1B04     		lsls	r3, r3, #16
 176 003e 1B0C     		lsrs	r3, r3, #16
 177 0040 2380     		strh	r3, [r4]	@ movhi
 178 0042 2388     		ldrh	r3, [r4]
 179 0044 9BB2     		uxth	r3, r3
 180 0046 43F40073 		orr	r3, r3, #512
 181 004a 2380     		strh	r3, [r4]	@ movhi
 182 004c 2023     		movs	r3, #32
 183              	@ 370 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 184 004e 83F31188 		msr     BASEPRI, r3
 185              	@ 0 "" 2
 186              		.thumb
 187 0052 FFF7FEFF 		bl	dbg_check_lock_from_isr
 188 0056 EB69     		ldr	r3, [r5, #28]
 189 0058 2BB1     		cbz	r3, .L24
 190 005a 0022     		movs	r2, #0
 191 005c EA61     		str	r2, [r5, #28]
 192 005e 1846     		mov	r0, r3
 193 0060 9A62     		str	r2, [r3, #40]
 194 0062 FFF7FEFF 		bl	chSchReadyI
 195              	.L24:
 196 0066 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 197 006a 0023     		movs	r3, #0
 198              	@ 370 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 199 006c 83F31188 		msr     BASEPRI, r3
 200              	@ 0 "" 2
 201              		.thumb
 202 0070 38BD     		pop	{r3, r4, r5, pc}
 203              	.L31:
 204 0072 FFF7FEFF 		bl	port_halt
 205 0076 C9E7     		b	.L21
 206              		.size	i2c_lld_serve_rx_end_irq, .-i2c_lld_serve_rx_end_irq
 207 0078 AFF30080 		.section	.text.VectorBC,"ax",%progbits
 207      AFF30080 
 208              		.align	2
 209              		.p2align 4,,15
 210              		.global	VectorBC
 211              		.thumb
 212              		.thumb_func
 213              		.type	VectorBC, %function
 214              	VectorBC:
 215              		@ args = 0, pretend = 0, frame = 0
 216              		@ frame_needed = 0, uses_anonymous_args = 0
 217 0000 70B5     		push	{r4, r5, r6, lr}
 218 0002 40F20005 		movw	r5, #:lower16:.LANCHOR0
 219 0006 C0F20005 		movt	r5, #:upper16:.LANCHOR0
 220 000a FFF7FEFF 		bl	dbg_check_enter_isr
 221 000e 6C6B     		ldr	r4, [r5, #52]
 222 0010 238B     		ldrh	r3, [r4, #24]
 223 0012 A68A     		ldrh	r6, [r4, #20]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 5


 224 0014 B6B2     		uxth	r6, r6
 225 0016 46EA0343 		orr	r3, r6, r3, lsl #16
 226 001a 0822     		movs	r2, #8
 227 001c 23F07F43 		bic	r3, r3, #-16777216
 228 0020 C0F20302 		movt	r2, 3
 229 0024 9342     		cmp	r3, r2
 230 0026 5ED0     		beq	.L34
 231 0028 27D8     		bhi	.L35
 232 002a 0122     		movs	r2, #1
 233 002c C0F20302 		movt	r2, 3
 234 0030 9342     		cmp	r3, r2
 235 0032 4CD0     		beq	.L36
 236 0034 0222     		movs	r2, #2
 237 0036 C0F20302 		movt	r2, 3
 238 003a 9342     		cmp	r3, r2
 239 003c 13D1     		bne	.L33
 240 003e A388     		ldrh	r3, [r4, #4]
 241 0040 EA6A     		ldr	r2, [r5, #44]
 242 0042 23F40073 		bic	r3, r3, #512
 243 0046 1B04     		lsls	r3, r3, #16
 244 0048 1268     		ldr	r2, [r2]
 245 004a 1B0C     		lsrs	r3, r3, #16
 246 004c A380     		strh	r3, [r4, #4]	@ movhi
 247 004e 1368     		ldr	r3, [r2]
 248 0050 43F00103 		orr	r3, r3, #1
 249 0054 1360     		str	r3, [r2]
 250 0056 A388     		ldrh	r3, [r4, #4]
 251 0058 9BB2     		uxth	r3, r3
 252 005a 43F48053 		orr	r3, r3, #4096
 253 005e A380     		strh	r3, [r4, #4]	@ movhi
 254 0060 5368     		ldr	r3, [r2, #4]
 255 0062 012B     		cmp	r3, #1
 256 0064 65D9     		bls	.L51
 257              	.L33:
 258 0066 16F00A0F 		tst	r6, #10
 259 006a 18BF     		it	ne
 260 006c 238B     		ldrhne	r3, [r4, #24]
 261 006e FFF7FEFF 		bl	dbg_check_leave_isr
 262 0072 BDE87040 		pop	{r4, r5, r6, lr}
 263 0076 FFF7FEBF 		b	_port_irq_epilogue
 264              	.L35:
 265 007a 8222     		movs	r2, #130
 266 007c C0F20702 		movt	r2, 7
 267 0080 9342     		cmp	r3, r2
 268 0082 17D0     		beq	.L38
 269 0084 8422     		movs	r2, #132
 270 0086 C0F20702 		movt	r2, 7
 271 008a 9342     		cmp	r3, r2
 272 008c EBD1     		bne	.L33
 273 008e EB6A     		ldr	r3, [r5, #44]
 274 0090 1B68     		ldr	r3, [r3]
 275 0092 5B68     		ldr	r3, [r3, #4]
 276 0094 63B3     		cbz	r3, .L41
 277 0096 2388     		ldrh	r3, [r4]
 278 0098 2A8C     		ldrh	r2, [r5, #32]
 279 009a 9BB2     		uxth	r3, r3
 280 009c 43F4A063 		orr	r3, r3, #1280
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 6


 281 00a0 42F00102 		orr	r2, r2, #1
 282 00a4 2A84     		strh	r2, [r5, #32]	@ movhi
 283 00a6 2380     		strh	r3, [r4]	@ movhi
 284 00a8 FFF7FEFF 		bl	dbg_check_leave_isr
 285 00ac BDE87040 		pop	{r4, r5, r6, lr}
 286 00b0 FFF7FEBF 		b	_port_irq_epilogue
 287              	.L38:
 288 00b4 A388     		ldrh	r3, [r4, #4]
 289 00b6 2A6B     		ldr	r2, [r5, #48]
 290 00b8 23F40073 		bic	r3, r3, #512
 291 00bc 1B04     		lsls	r3, r3, #16
 292 00be 1268     		ldr	r2, [r2]
 293 00c0 1B0C     		lsrs	r3, r3, #16
 294 00c2 A380     		strh	r3, [r4, #4]	@ movhi
 295 00c4 1368     		ldr	r3, [r2]
 296 00c6 43F00103 		orr	r3, r3, #1
 297 00ca 1360     		str	r3, [r2]
 298 00cc CBE7     		b	.L33
 299              	.L36:
 300 00ce 2B8C     		ldrh	r3, [r5, #32]
 301 00d0 1A0A     		lsrs	r2, r3, #8
 302 00d2 0BD0     		beq	.L50
 303 00d4 03F00103 		and	r3, r3, #1
 304 00d8 43F0F003 		orr	r3, r3, #240
 305 00dc 02F00602 		and	r2, r2, #6
 306 00e0 1A43     		orrs	r2, r2, r3
 307 00e2 2282     		strh	r2, [r4, #16]	@ movhi
 308 00e4 BFE7     		b	.L33
 309              	.L34:
 310 00e6 2B8C     		ldrh	r3, [r5, #32]
 311 00e8 C3F34703 		ubfx	r3, r3, #1, #8
 312              	.L50:
 313 00ec 2382     		strh	r3, [r4, #16]	@ movhi
 314 00ee BAE7     		b	.L33
 315              	.L41:
 316 00f0 A388     		ldrh	r3, [r4, #4]
 317 00f2 23F40073 		bic	r3, r3, #512
 318 00f6 1B04     		lsls	r3, r3, #16
 319 00f8 1B0C     		lsrs	r3, r3, #16
 320 00fa A380     		strh	r3, [r4, #4]	@ movhi
 321 00fc 2388     		ldrh	r3, [r4]
 322 00fe 9BB2     		uxth	r3, r3
 323 0100 43F40073 		orr	r3, r3, #512
 324 0104 2380     		strh	r3, [r4]	@ movhi
 325 0106 2023     		movs	r3, #32
 326              	@ 335 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 327 0108 83F31188 		msr     BASEPRI, r3
 328              	@ 0 "" 2
 329              		.thumb
 330 010c FFF7FEFF 		bl	dbg_check_lock_from_isr
 331 0110 E869     		ldr	r0, [r5, #28]
 332 0112 40F20003 		movw	r3, #:lower16:.LANCHOR0
 333 0116 C0F20003 		movt	r3, #:upper16:.LANCHOR0
 334 011a 20B1     		cbz	r0, .L43
 335 011c 0022     		movs	r2, #0
 336 011e 8262     		str	r2, [r0, #40]
 337 0120 DA61     		str	r2, [r3, #28]
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 7


 338 0122 FFF7FEFF 		bl	chSchReadyI
 339              	.L43:
 340 0126 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 341 012a 0023     		movs	r3, #0
 342              	@ 335 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 343 012c 83F31188 		msr     BASEPRI, r3
 344              	@ 0 "" 2
 345              		.thumb
 346 0130 99E7     		b	.L33
 347              	.L51:
 348 0132 2388     		ldrh	r3, [r4]
 349 0134 23F48063 		bic	r3, r3, #1024
 350 0138 1B04     		lsls	r3, r3, #16
 351 013a 1B0C     		lsrs	r3, r3, #16
 352 013c 2380     		strh	r3, [r4]	@ movhi
 353 013e 92E7     		b	.L33
 354              		.size	VectorBC, .-VectorBC
 355              		.section	.text.VectorC0,"ax",%progbits
 356              		.align	2
 357              		.p2align 4,,15
 358              		.global	VectorC0
 359              		.thumb
 360              		.thumb_func
 361              		.type	VectorC0, %function
 362              	VectorC0:
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 0, uses_anonymous_args = 0
 365 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 366 0002 40F20004 		movw	r4, #:lower16:.LANCHOR0
 367 0006 C0F20004 		movt	r4, #:upper16:.LANCHOR0
 368 000a 636B     		ldr	r3, [r4, #52]
 369 000c 9D8A     		ldrh	r5, [r3, #20]
 370 000e ADB2     		uxth	r5, r5
 371 0010 FFF7FEFF 		bl	dbg_check_enter_isr
 372 0014 266B     		ldr	r6, [r4, #48]
 373 0016 616B     		ldr	r1, [r4, #52]
 374 0018 3268     		ldr	r2, [r6]
 375 001a 05F45F43 		and	r3, r5, #57088
 376 001e 83F47F43 		eor	r3, r3, #65280
 377 0022 83F0FF03 		eor	r3, r3, #255
 378 0026 8B82     		strh	r3, [r1, #20]	@ movhi
 379 0028 1368     		ldr	r3, [r2]
 380 002a 23F01F03 		bic	r3, r3, #31
 381 002e 1360     		str	r3, [r2]
 382              	.L54:
 383 0030 1368     		ldr	r3, [r2]
 384 0032 DF07     		lsls	r7, r3, #31
 385 0034 FCD4     		bmi	.L54
 386 0036 377A     		ldrb	r7, [r6, #8]	@ zero_extendqisi2
 387 0038 E06A     		ldr	r0, [r4, #44]
 388 003a 7368     		ldr	r3, [r6, #4]
 389 003c 0268     		ldr	r2, [r0]
 390 003e 3D26     		movs	r6, #61
 391 0040 BE40     		lsls	r6, r6, r7
 392 0042 1E60     		str	r6, [r3]
 393 0044 1368     		ldr	r3, [r2]
 394 0046 23F01F03 		bic	r3, r3, #31
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 8


 395 004a 1360     		str	r3, [r2]
 396              	.L56:
 397 004c 1368     		ldr	r3, [r2]
 398 004e DE07     		lsls	r6, r3, #31
 399 0050 FCD4     		bmi	.L56
 400 0052 067A     		ldrb	r6, [r0, #8]	@ zero_extendqisi2
 401 0054 4268     		ldr	r2, [r0, #4]
 402 0056 05F48073 		and	r3, r5, #256
 403 005a 3D20     		movs	r0, #61
 404 005c B040     		lsls	r0, r0, r6
 405 005e 9BB2     		uxth	r3, r3
 406 0060 1060     		str	r0, [r2]
 407 0062 03B1     		cbz	r3, .L89
 408 0064 0123     		movs	r3, #1
 409              	.L89:
 410 0066 AA05     		lsls	r2, r5, #22
 411 0068 A360     		str	r3, [r4, #8]
 412 006a 44BF     		itt	mi
 413 006c 43F00203 		orrmi	r3, r3, #2
 414 0070 A360     		strmi	r3, [r4, #8]
 415 0072 6F05     		lsls	r7, r5, #21
 416 0074 0ED5     		bpl	.L60
 417 0076 8A88     		ldrh	r2, [r1, #4]
 418 0078 22F40072 		bic	r2, r2, #512
 419 007c 1204     		lsls	r2, r2, #16
 420 007e 120C     		lsrs	r2, r2, #16
 421 0080 8A80     		strh	r2, [r1, #4]	@ movhi
 422 0082 0888     		ldrh	r0, [r1]
 423 0084 80B2     		uxth	r0, r0
 424 0086 43F00402 		orr	r2, r3, #4
 425 008a 40F40073 		orr	r3, r0, #512
 426 008e 0B80     		strh	r3, [r1]	@ movhi
 427 0090 1346     		mov	r3, r2
 428 0092 A260     		str	r2, [r4, #8]
 429              	.L60:
 430 0094 2E05     		lsls	r6, r5, #20
 431 0096 44BF     		itt	mi
 432 0098 43F00803 		orrmi	r3, r3, #8
 433 009c A360     		strmi	r3, [r4, #8]
 434 009e 6804     		lsls	r0, r5, #17
 435 00a0 44BF     		itt	mi
 436 00a2 43F02003 		orrmi	r3, r3, #32
 437 00a6 A360     		strmi	r3, [r4, #8]
 438 00a8 E904     		lsls	r1, r5, #19
 439 00aa 44BF     		itt	mi
 440 00ac 43F01003 		orrmi	r3, r3, #16
 441 00b0 A360     		strmi	r3, [r4, #8]
 442 00b2 2A04     		lsls	r2, r5, #16
 443 00b4 44BF     		itt	mi
 444 00b6 43F04003 		orrmi	r3, r3, #64
 445 00ba A360     		strmi	r3, [r4, #8]
 446 00bc 06D4     		bmi	.L65
 447 00be 2BB9     		cbnz	r3, .L65
 448 00c0 FFF7FEFF 		bl	dbg_check_leave_isr
 449 00c4 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 450 00c8 FFF7FEBF 		b	_port_irq_epilogue
 451              	.L65:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 9


 452 00cc 2023     		movs	r3, #32
 453              	@ 441 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 454 00ce 83F31188 		msr     BASEPRI, r3
 455              	@ 0 "" 2
 456              		.thumb
 457 00d2 FFF7FEFF 		bl	dbg_check_lock_from_isr
 458 00d6 E069     		ldr	r0, [r4, #28]
 459 00d8 40F20003 		movw	r3, #:lower16:.LANCHOR0
 460 00dc C0F20003 		movt	r3, #:upper16:.LANCHOR0
 461 00e0 30B1     		cbz	r0, .L67
 462 00e2 6FF00102 		mvn	r2, #1
 463 00e6 8262     		str	r2, [r0, #40]
 464 00e8 0022     		movs	r2, #0
 465 00ea DA61     		str	r2, [r3, #28]
 466 00ec FFF7FEFF 		bl	chSchReadyI
 467              	.L67:
 468 00f0 FFF7FEFF 		bl	dbg_check_unlock_from_isr
 469 00f4 0023     		movs	r3, #0
 470              	@ 441 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 471 00f6 83F31188 		msr     BASEPRI, r3
 472              	@ 0 "" 2
 473              		.thumb
 474 00fa FFF7FEFF 		bl	dbg_check_leave_isr
 475 00fe BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 476 0102 FFF7FEBF 		b	_port_irq_epilogue
 477              		.size	VectorC0, .-VectorC0
 478 0106 00BFAFF3 		.section	.text.i2c_lld_init,"ax",%progbits
 478      0080AFF3 
 478      0080
 479              		.align	2
 480              		.p2align 4,,15
 481              		.global	i2c_lld_init
 482              		.thumb
 483              		.thumb_func
 484              		.type	i2c_lld_init, %function
 485              	i2c_lld_init:
 486              		@ args = 0, pretend = 0, frame = 0
 487              		@ frame_needed = 0, uses_anonymous_args = 0
 488 0000 10B5     		push	{r4, lr}
 489 0002 40F20004 		movw	r4, #:lower16:.LANCHOR0
 490 0006 C0F20004 		movt	r4, #:upper16:.LANCHOR0
 491 000a 2046     		mov	r0, r4
 492 000c FFF7FEFF 		bl	i2cObjectInit
 493 0010 064B     		ldr	r3, .L91
 494 0012 4FF4A842 		mov	r2, #21504
 495 0016 0020     		movs	r0, #0
 496 0018 C4F20002 		movt	r2, 16384
 497 001c 03F10C01 		add	r1, r3, #12
 498 0020 E061     		str	r0, [r4, #28]
 499 0022 6263     		str	r2, [r4, #52]
 500 0024 E362     		str	r3, [r4, #44]
 501 0026 2163     		str	r1, [r4, #48]
 502 0028 10BD     		pop	{r4, pc}
 503              	.L92:
 504 002a 00BF     		.align	2
 505              	.L91:
 506 002c 3C000000 		.word	_stm32_dma_streams+60
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 10


 507              		.size	i2c_lld_init, .-i2c_lld_init
 508              		.section	.text.i2c_lld_start,"ax",%progbits
 509              		.align	2
 510              		.p2align 4,,15
 511              		.global	i2c_lld_start
 512              		.thumb
 513              		.thumb_func
 514              		.type	i2c_lld_start, %function
 515              	i2c_lld_start:
 516              		@ args = 0, pretend = 0, frame = 0
 517              		@ frame_needed = 0, uses_anonymous_args = 0
 518 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 519 0004 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 520 0006 456B     		ldr	r5, [r0, #52]
 521 0008 40F25642 		movw	r2, #1110
 522 000c 8262     		str	r2, [r0, #40]
 523 000e 012B     		cmp	r3, #1
 524 0010 40F21642 		movw	r2, #1046
 525 0014 0446     		mov	r4, r0
 526 0016 4262     		str	r2, [r0, #36]
 527 0018 00F0A380 		beq	.L137
 528              	.L115:
 529 001c 2E46     		mov	r6, r5
 530              	.L94:
 531 001e 6368     		ldr	r3, [r4, #4]
 532 0020 E16A     		ldr	r1, [r4, #44]
 533 0022 226B     		ldr	r2, [r4, #48]
 534 0024 5F68     		ldr	r7, [r3, #4]
 535 0026 93F80880 		ldrb	r8, [r3, #8]	@ zero_extendqisi2
 536 002a D1F80090 		ldr	r9, [r1]
 537 002e D2F800A0 		ldr	r10, [r2]
 538 0032 40F6FF03 		movw	r3, #2303
 539 0036 791E     		subs	r1, r7, #1
 540 0038 C0F23D03 		movt	r3, 61
 541 003c 05F11002 		add	r2, r5, #16
 542 0040 4FF4004B 		mov	fp, #32768
 543 0044 4FF0000C 		mov	ip, #0
 544 0048 4FF41060 		mov	r0, #2304
 545 004c 9942     		cmp	r1, r3
 546 004e C9F80820 		str	r2, [r9, #8]
 547 0052 CAF80820 		str	r2, [r10, #8]
 548 0056 A5F800B0 		strh	fp, [r5]	@ movhi
 549 005a A5F800C0 		strh	ip, [r5]	@ movhi
 550 005e A880     		strh	r0, [r5, #4]	@ movhi
 551 0060 0AD9     		bls	.L97
 552 0062 40F20000 		movw	r0, #:lower16:.LC2
 553 0066 40F20001 		movw	r1, #:lower16:.LC3
 554 006a C0F20000 		movt	r0, #:upper16:.LC2
 555 006e C0F20001 		movt	r1, #:upper16:.LC3
 556 0072 BF22     		movs	r2, #191
 557 0074 FFF7FEFF 		bl	chDbgPanic3
 558              	.L97:
 559 0078 B388     		ldrh	r3, [r6, #4]
 560 007a 23F03F03 		bic	r3, r3, #63
 561 007e 1B04     		lsls	r3, r3, #16
 562 0080 1B0C     		lsrs	r3, r3, #16
 563 0082 B380     		strh	r3, [r6, #4]	@ movhi
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 11


 564 0084 B288     		ldrh	r2, [r6, #4]
 565 0086 48F2A063 		movw	r3, #34464
 566 008a 92B2     		uxth	r2, r2
 567 008c C0F20103 		movt	r3, 1
 568 0090 42F02A02 		orr	r2, r2, #42
 569 0094 9F42     		cmp	r7, r3
 570 0096 B280     		strh	r2, [r6, #4]	@ movhi
 571 0098 4BDC     		bgt	.L98
 572 009a B8F1010F 		cmp	r8, #1
 573 009e 05D0     		beq	.L99
 574 00a0 40F20000 		movw	r0, #:lower16:.LC4
 575 00a4 C0F20000 		movt	r0, #:upper16:.LC4
 576 00a8 FFF7FEFF 		bl	chDbgPanic
 577              	.L99:
 578 00ac 4DF68063 		movw	r3, #56960
 579 00b0 7F00     		lsls	r7, r7, #1
 580 00b2 C0F28023 		movt	r3, 640
 581 00b6 93FBF7F2 		sdiv	r2, r3, r7
 582 00ba 4DF68063 		movw	r3, #56960
 583 00be 07FB02F2 		mul	r2, r7, r2
 584 00c2 C0F28023 		movt	r3, 640
 585 00c6 9B1A     		subs	r3, r3, r2
 586 00c8 002B     		cmp	r3, #0
 587 00ca 40F0A580 		bne	.L138
 588              	.L100:
 589 00ce 4DF68063 		movw	r3, #56960
 590 00d2 C0F28023 		movt	r3, 640
 591 00d6 93FBF7F7 		sdiv	r7, r3, r7
 592 00da BBB2     		uxth	r3, r7
 593 00dc 032B     		cmp	r3, #3
 594 00de 40F29080 		bls	.L139
 595 00e2 2B22     		movs	r2, #43
 596 00e4 B3F5805F 		cmp	r3, #4096
 597 00e8 C7F30B07 		ubfx	r7, r7, #0, #12
 598 00ec 3284     		strh	r2, [r6, #32]	@ movhi
 599 00ee 05D3     		bcc	.L102
 600 00f0 40F20000 		movw	r0, #:lower16:.LC10
 601 00f4 C0F20000 		movt	r0, #:upper16:.LC10
 602 00f8 FFF7FEFF 		bl	chDbgPanic
 603              	.L102:
 604 00fc 6368     		ldr	r3, [r4, #4]
 605 00fe 616B     		ldr	r1, [r4, #52]
 606 0100 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 607 0102 B783     		strh	r7, [r6, #28]	@ movhi
 608 0104 0B88     		ldrh	r3, [r1]
 609 0106 022A     		cmp	r2, #2
 610 0108 9BB2     		uxth	r3, r3
 611 010a 74D0     		beq	.L111
 612 010c 032A     		cmp	r2, #3
 613 010e 08BF     		it	eq
 614 0110 43F00A03 		orreq	r3, r3, #10
 615 0114 05D0     		beq	.L110
 616 0116 012A     		cmp	r2, #1
 617 0118 02BF     		ittt	eq
 618 011a 23F00A03 		biceq	r3, r3, #10
 619 011e 1B04     		lsleq	r3, r3, #16
 620 0120 1B0C     		lsreq	r3, r3, #16
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 12


 621              	.L110:
 622 0122 0B80     		strh	r3, [r1]	@ movhi
 623 0124 2B88     		ldrh	r3, [r5]
 624 0126 9BB2     		uxth	r3, r3
 625 0128 43F00103 		orr	r3, r3, #1
 626 012c 2B80     		strh	r3, [r5]	@ movhi
 627 012e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 628              	.L98:
 629 0132 4FF4D453 		mov	r3, #6784
 630 0136 C0F20603 		movt	r3, 6
 631 013a 9F42     		cmp	r7, r3
 632 013c C8BF     		it	gt
 633 013e 0027     		movgt	r7, #0
 634 0140 DCDC     		bgt	.L102
 635 0142 A8F10203 		sub	r3, r8, #2
 636 0146 DBB2     		uxtb	r3, r3
 637 0148 012B     		cmp	r3, #1
 638 014a 6CD9     		bls	.L105
 639 014c 40F20000 		movw	r0, #:lower16:.LC7
 640 0150 C0F20000 		movt	r0, #:upper16:.LC7
 641 0154 FFF7FEFF 		bl	chDbgPanic
 642 0158 48F6FF77 		movw	r7, #36863
 643              	.L106:
 644 015c 0D23     		movs	r3, #13
 645 015e 3384     		strh	r3, [r6, #32]	@ movhi
 646 0160 CCE7     		b	.L102
 647              	.L137:
 648 0162 40F20007 		movw	r7, #:lower16:.LANCHOR0
 649 0166 C0F20007 		movt	r7, #:upper16:.LANCHOR0
 650 016a B842     		cmp	r0, r7
 651 016c 7FF456AF 		bne	.L115
 652 0170 4FF46053 		mov	r3, #14336
 653 0174 C4F20203 		movt	r3, 16386
 654 0178 0021     		movs	r1, #0
 655 017a 1E6A     		ldr	r6, [r3, #32]
 656 017c C06A     		ldr	r0, [r0, #44]
 657 017e 46F40016 		orr	r6, r6, #2097152
 658 0182 40F20002 		movw	r2, #:lower16:i2c_lld_serve_rx_end_irq
 659 0186 1E62     		str	r6, [r3, #32]
 660 0188 C0F20002 		movt	r2, #:upper16:i2c_lld_serve_rx_end_irq
 661 018c 1962     		str	r1, [r3, #32]
 662 018e 0521     		movs	r1, #5
 663 0190 2346     		mov	r3, r4
 664 0192 FFF7FEFF 		bl	dmaStreamAllocate
 665 0196 0028     		cmp	r0, #0
 666 0198 40F09E80 		bne	.L140
 667              	.L95:
 668 019c 40F20002 		movw	r2, #:lower16:i2c_lld_serve_tx_end_irq
 669 01a0 40F20003 		movw	r3, #:lower16:.LANCHOR0
 670 01a4 C0F20002 		movt	r2, #:upper16:i2c_lld_serve_tx_end_irq
 671 01a8 C0F20003 		movt	r3, #:upper16:.LANCHOR0
 672 01ac 386B     		ldr	r0, [r7, #48]
 673 01ae 0521     		movs	r1, #5
 674 01b0 FFF7FEFF 		bl	dmaStreamAllocate
 675 01b4 0028     		cmp	r0, #0
 676 01b6 40F08880 		bne	.L141
 677              	.L96:
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 13


 678 01ba 4FF46053 		mov	r3, #14336
 679 01be C4F20203 		movt	r3, 16386
 680 01c2 1F20     		movs	r0, #31
 681 01c4 1A6C     		ldr	r2, [r3, #64]
 682 01c6 42F40012 		orr	r2, r2, #2097152
 683 01ca 1A64     		str	r2, [r3, #64]
 684 01cc 5021     		movs	r1, #80
 685 01ce FFF7FEFF 		bl	nvicEnableVector
 686 01d2 2020     		movs	r0, #32
 687 01d4 5021     		movs	r1, #80
 688 01d6 FFF7FEFF 		bl	nvicEnableVector
 689 01da 7A6A     		ldr	r2, [r7, #36]
 690 01dc BB6A     		ldr	r3, [r7, #40]
 691 01de 7E6B     		ldr	r6, [r7, #52]
 692 01e0 42F00072 		orr	r2, r2, #33554432
 693 01e4 43F00073 		orr	r3, r3, #33554432
 694 01e8 42F44032 		orr	r2, r2, #196608
 695 01ec 43F44033 		orr	r3, r3, #196608
 696 01f0 7A62     		str	r2, [r7, #36]
 697 01f2 BB62     		str	r3, [r7, #40]
 698 01f4 13E7     		b	.L94
 699              	.L111:
 700 01f6 4FF6F772 		movw	r2, #65527
 701 01fa 1A40     		ands	r2, r2, r3
 702 01fc 42F00203 		orr	r3, r2, #2
 703 0200 8FE7     		b	.L110
 704              	.L139:
 705 0202 40F20000 		movw	r0, #:lower16:.LC6
 706 0206 C0F20000 		movt	r0, #:upper16:.LC6
 707 020a FFF7FEFF 		bl	chDbgPanic
 708 020e 2B23     		movs	r3, #43
 709 0210 C7F30B07 		ubfx	r7, r7, #0, #12
 710 0214 3384     		strh	r3, [r6, #32]	@ movhi
 711 0216 71E7     		b	.L102
 712              	.L138:
 713 0218 40F20000 		movw	r0, #:lower16:.LC5
 714 021c C0F20000 		movt	r0, #:upper16:.LC5
 715 0220 FFF7FEFF 		bl	chDbgPanic
 716 0224 53E7     		b	.L100
 717              	.L105:
 718 0226 B8F1020F 		cmp	r8, #2
 719 022a 22D1     		bne	.L107
 720 022c 4DF68063 		movw	r3, #56960
 721 0230 07EB4707 		add	r7, r7, r7, lsl #1
 722 0234 C0F28023 		movt	r3, 640
 723 0238 93FBF7F2 		sdiv	r2, r3, r7
 724 023c 4DF68063 		movw	r3, #56960
 725 0240 07FB02F2 		mul	r2, r7, r2
 726 0244 C0F28023 		movt	r3, 640
 727 0248 9B1A     		subs	r3, r3, r2
 728 024a 5BB9     		cbnz	r3, .L142
 729              	.L108:
 730 024c 4DF68063 		movw	r3, #56960
 731 0250 C0F28023 		movt	r3, 640
 732 0254 93FBF7F7 		sdiv	r7, r3, r7
 733 0258 6FEA4747 		mvn	r7, r7, lsl #17
 734 025c 6FEA5747 		mvn	r7, r7, lsr #17
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 14


 735 0260 BFB2     		uxth	r7, r7
 736 0262 7BE7     		b	.L106
 737              	.L142:
 738 0264 40F20000 		movw	r0, #:lower16:.LC8
 739 0268 C0F20000 		movt	r0, #:upper16:.LC8
 740 026c FFF7FEFF 		bl	chDbgPanic
 741 0270 ECE7     		b	.L108
 742              	.L107:
 743 0272 B8F1030F 		cmp	r8, #3
 744 0276 18BF     		it	ne
 745 0278 48F6FF77 		movwne	r7, #36863
 746 027c 7FF46EAF 		bne	.L106
 747 0280 07EB8707 		add	r7, r7, r7, lsl #2
 748 0284 4DF68063 		movw	r3, #56960
 749 0288 07EB8707 		add	r7, r7, r7, lsl #2
 750 028c C0F28023 		movt	r3, 640
 751 0290 93FBF7F2 		sdiv	r2, r3, r7
 752 0294 4DF68063 		movw	r3, #56960
 753 0298 07FB02F2 		mul	r2, r7, r2
 754 029c C0F28023 		movt	r3, 640
 755 02a0 9B1A     		subs	r3, r3, r2
 756 02a2 5BB9     		cbnz	r3, .L143
 757              	.L109:
 758 02a4 4DF68063 		movw	r3, #56960
 759 02a8 C0F28023 		movt	r3, 640
 760 02ac 93FBF7F7 		sdiv	r7, r3, r7
 761 02b0 6FEA8747 		mvn	r7, r7, lsl #18
 762 02b4 6FEA9747 		mvn	r7, r7, lsr #18
 763 02b8 BFB2     		uxth	r7, r7
 764 02ba 4FE7     		b	.L106
 765              	.L143:
 766 02bc 40F20000 		movw	r0, #:lower16:.LC9
 767 02c0 C0F20000 		movt	r0, #:upper16:.LC9
 768 02c4 FFF7FEFF 		bl	chDbgPanic
 769 02c8 ECE7     		b	.L109
 770              	.L141:
 771 02ca 40F20000 		movw	r0, #:lower16:.LC1
 772 02ce C0F20000 		movt	r0, #:upper16:.LC1
 773 02d2 FFF7FEFF 		bl	chDbgPanic
 774 02d6 70E7     		b	.L96
 775              	.L140:
 776 02d8 40F20000 		movw	r0, #:lower16:.LC0
 777 02dc C0F20000 		movt	r0, #:upper16:.LC0
 778 02e0 FFF7FEFF 		bl	chDbgPanic
 779 02e4 5AE7     		b	.L95
 780              		.size	i2c_lld_start, .-i2c_lld_start
 781 02e6 00BFAFF3 		.section	.text.i2c_lld_stop,"ax",%progbits
 781      0080AFF3 
 781      0080
 782              		.align	2
 783              		.p2align 4,,15
 784              		.global	i2c_lld_stop
 785              		.thumb
 786              		.thumb_func
 787              		.type	i2c_lld_stop, %function
 788              	i2c_lld_stop:
 789              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 15


 790              		@ frame_needed = 0, uses_anonymous_args = 0
 791 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 792 0002 012B     		cmp	r3, #1
 793 0004 10B5     		push	{r4, lr}
 794 0006 0446     		mov	r4, r0
 795 0008 0DD0     		beq	.L144
 796 000a FFF7FEFF 		bl	i2c_lld_abort_operation
 797 000e 206B     		ldr	r0, [r4, #48]
 798 0010 FFF7FEFF 		bl	dmaStreamRelease
 799 0014 E06A     		ldr	r0, [r4, #44]
 800 0016 FFF7FEFF 		bl	dmaStreamRelease
 801 001a 40F20003 		movw	r3, #:lower16:.LANCHOR0
 802 001e C0F20003 		movt	r3, #:upper16:.LANCHOR0
 803 0022 9C42     		cmp	r4, r3
 804 0024 00D0     		beq	.L148
 805              	.L144:
 806 0026 10BD     		pop	{r4, pc}
 807              	.L148:
 808 0028 1F20     		movs	r0, #31
 809 002a FFF7FEFF 		bl	nvicDisableVector
 810 002e 2020     		movs	r0, #32
 811 0030 FFF7FEFF 		bl	nvicDisableVector
 812 0034 4FF46053 		mov	r3, #14336
 813 0038 C4F20203 		movt	r3, 16386
 814 003c 1A6C     		ldr	r2, [r3, #64]
 815 003e 22F40012 		bic	r2, r2, #2097152
 816 0042 1A64     		str	r2, [r3, #64]
 817 0044 EFE7     		b	.L144
 818              		.size	i2c_lld_stop, .-i2c_lld_stop
 819 0046 00BFAFF3 		.section	.text.i2c_lld_master_receive_timeout,"ax",%progbits
 819      0080AFF3 
 819      0080
 820              		.align	2
 821              		.p2align 4,,15
 822              		.global	i2c_lld_master_receive_timeout
 823              		.thumb
 824              		.thumb_func
 825              		.type	i2c_lld_master_receive_timeout, %function
 826              	i2c_lld_master_receive_timeout:
 827              		@ args = 4, pretend = 0, frame = 24
 828              		@ frame_needed = 0, uses_anonymous_args = 0
 829 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 830 0004 87B0     		sub	sp, sp, #28
 831 0006 1F46     		mov	r7, r3
 832 0008 0E9D     		ldr	r5, [sp, #56]
 833 000a 446B     		ldr	r4, [r0, #52]
 834 000c 6B1C     		adds	r3, r5, #1
 835 000e 0646     		mov	r6, r0
 836 0010 8946     		mov	r9, r1
 837 0012 9046     		mov	r8, r2
 838 0014 08D0     		beq	.L150
 839 0016 40F20002 		movw	r2, #:lower16:i2c_lld_safety_timeout
 840 001a C0F20002 		movt	r2, #:upper16:i2c_lld_safety_timeout
 841 001e 01A8     		add	r0, sp, #4
 842 0020 2946     		mov	r1, r5
 843 0022 3346     		mov	r3, r6
 844 0024 FFF7FEFF 		bl	chVTSetI
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 16


 845              	.L150:
 846 0028 FFF7FEFF 		bl	dbg_check_unlock
 847 002c 0023     		movs	r3, #0
 848              	@ 783 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 849 002e 83F31188 		msr     BASEPRI, r3
 850              	@ 0 "" 2
 851              		.thumb
 852 0032 F26A     		ldr	r2, [r6, #44]
 853 0034 736A     		ldr	r3, [r6, #36]
 854 0036 1068     		ldr	r0, [r2]
 855 0038 4FEA4909 		lsl	r9, r9, #1
 856 003c 49F00109 		orr	r9, r9, #1
 857 0040 0022     		movs	r2, #0
 858 0042 A6F82090 		strh	r9, [r6, #32]	@ movhi
 859 0046 B260     		str	r2, [r6, #8]
 860 0048 0360     		str	r3, [r0]
 861 004a C0F80C80 		str	r8, [r0, #12]
 862 004e 4760     		str	r7, [r0, #4]
 863 0050 04E0     		b	.L151
 864              	.L152:
 865 0052 FFF7FEFF 		bl	dbg_check_unlock
 866 0056 0023     		movs	r3, #0
 867              	@ 800 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 868 0058 83F31188 		msr     BASEPRI, r3
 869              	@ 0 "" 2
 870              		.thumb
 871              	.L151:
 872 005c 228B     		ldrh	r2, [r4, #24]
 873 005e 9107     		lsls	r1, r2, #30
 874 0060 4FF02003 		mov	r3, #32
 875 0064 02D4     		bmi	.L154
 876 0066 2288     		ldrh	r2, [r4]
 877 0068 9205     		lsls	r2, r2, #22
 878 006a 0DD5     		bpl	.L171
 879              	.L154:
 880              	@ 797 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 881 006c 83F31188 		msr     BASEPRI, r3
 882              	@ 0 "" 2
 883              		.thumb
 884 0070 FFF7FEFF 		bl	dbg_check_lock
 885 0074 681C     		adds	r0, r5, #1
 886 0076 ECD0     		beq	.L152
 887 0078 049A     		ldr	r2, [sp, #16]
 888 007a 002A     		cmp	r2, #0
 889 007c E9D1     		bne	.L152
 890              	.L156:
 891 007e 4FF0FF30 		mov	r0, #-1
 892 0082 07B0     		add	sp, sp, #28
 893              		@ sp needed
 894 0084 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 895              	.L171:
 896              	@ 804 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 897 0088 83F31188 		msr     BASEPRI, r3
 898              	@ 0 "" 2
 899              		.thumb
 900 008c FFF7FEFF 		bl	dbg_check_lock
 901 0090 0135     		adds	r5, r5, #1
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 17


 902 0092 1FD0     		beq	.L155
 903 0094 049B     		ldr	r3, [sp, #16]
 904 0096 002B     		cmp	r3, #0
 905 0098 F1D0     		beq	.L156
 906 009a A388     		ldrh	r3, [r4, #4]
 907 009c 9BB2     		uxth	r3, r3
 908 009e 43F40073 		orr	r3, r3, #512
 909 00a2 A380     		strh	r3, [r4, #4]	@ movhi
 910 00a4 40F20005 		movw	r5, #:lower16:rlist
 911 00a8 2288     		ldrh	r2, [r4]
 912 00aa C0F20005 		movt	r5, #:upper16:rlist
 913 00ae 92B2     		uxth	r2, r2
 914 00b0 AB69     		ldr	r3, [r5, #24]
 915 00b2 42F4A062 		orr	r2, r2, #1280
 916 00b6 2280     		strh	r2, [r4]	@ movhi
 917 00b8 0220     		movs	r0, #2
 918 00ba F361     		str	r3, [r6, #28]
 919 00bc FFF7FEFF 		bl	chSchGoSleepS
 920 00c0 049B     		ldr	r3, [sp, #16]
 921 00c2 13B1     		cbz	r3, .L158
 922 00c4 01A8     		add	r0, sp, #4
 923 00c6 FFF7FEFF 		bl	chVTResetI
 924              	.L158:
 925 00ca AB69     		ldr	r3, [r5, #24]
 926 00cc 986A     		ldr	r0, [r3, #40]
 927 00ce 07B0     		add	sp, sp, #28
 928              		@ sp needed
 929 00d0 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 930              	.L155:
 931 00d4 A388     		ldrh	r3, [r4, #4]
 932 00d6 9BB2     		uxth	r3, r3
 933 00d8 43F40073 		orr	r3, r3, #512
 934 00dc A380     		strh	r3, [r4, #4]	@ movhi
 935 00de 40F20005 		movw	r5, #:lower16:rlist
 936 00e2 2288     		ldrh	r2, [r4]
 937 00e4 C0F20005 		movt	r5, #:upper16:rlist
 938 00e8 92B2     		uxth	r2, r2
 939 00ea AB69     		ldr	r3, [r5, #24]
 940 00ec 42F4A062 		orr	r2, r2, #1280
 941 00f0 2280     		strh	r2, [r4]	@ movhi
 942 00f2 0220     		movs	r0, #2
 943 00f4 F361     		str	r3, [r6, #28]
 944 00f6 FFF7FEFF 		bl	chSchGoSleepS
 945 00fa E6E7     		b	.L158
 946              		.size	i2c_lld_master_receive_timeout, .-i2c_lld_master_receive_timeout
 947 00fc AFF30080 		.section	.text.i2c_lld_master_transmit_timeout,"ax",%progbits
 948              		.align	2
 949              		.p2align 4,,15
 950              		.global	i2c_lld_master_transmit_timeout
 951              		.thumb
 952              		.thumb_func
 953              		.type	i2c_lld_master_transmit_timeout, %function
 954              	i2c_lld_master_transmit_timeout:
 955              		@ args = 12, pretend = 0, frame = 24
 956              		@ frame_needed = 0, uses_anonymous_args = 0
 957 0000 2DE9F049 		push	{r4, r5, r6, r7, r8, fp, lr}
 958 0004 87B0     		sub	sp, sp, #28
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 18


 959 0006 1E46     		mov	r6, r3
 960 0008 109D     		ldr	r5, [sp, #64]
 961 000a 446B     		ldr	r4, [r0, #52]
 962 000c 6B1C     		adds	r3, r5, #1
 963 000e 8046     		mov	r8, r0
 964 0010 8B46     		mov	fp, r1
 965 0012 1746     		mov	r7, r2
 966 0014 08D0     		beq	.L173
 967 0016 40F20002 		movw	r2, #:lower16:i2c_lld_safety_timeout
 968 001a C0F20002 		movt	r2, #:upper16:i2c_lld_safety_timeout
 969 001e 01A8     		add	r0, sp, #4
 970 0020 2946     		mov	r1, r5
 971 0022 4346     		mov	r3, r8
 972 0024 FFF7FEFF 		bl	chVTSetI
 973              	.L173:
 974 0028 FFF7FEFF 		bl	dbg_check_unlock
 975 002c 0023     		movs	r3, #0
 976              	@ 866 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 977 002e 83F31188 		msr     BASEPRI, r3
 978              	@ 0 "" 2
 979              		.thumb
 980 0032 D8F83020 		ldr	r2, [r8, #48]
 981 0036 D8F82C30 		ldr	r3, [r8, #44]
 982 003a 1268     		ldr	r2, [r2]
 983 003c 1B68     		ldr	r3, [r3]
 984 003e D8F82400 		ldr	r0, [r8, #36]
 985 0042 0021     		movs	r1, #0
 986 0044 C8F80810 		str	r1, [r8, #8]
 987 0048 D8F82810 		ldr	r1, [r8, #40]
 988 004c 4FEA4B0B 		lsl	fp, fp, #1
 989 0050 A8F820B0 		strh	fp, [r8, #32]	@ movhi
 990 0054 1160     		str	r1, [r2]
 991 0056 D760     		str	r7, [r2, #12]
 992 0058 5660     		str	r6, [r2, #4]
 993 005a 1860     		str	r0, [r3]
 994 005c 0E9A     		ldr	r2, [sp, #56]
 995 005e 0F98     		ldr	r0, [sp, #60]
 996 0060 DA60     		str	r2, [r3, #12]
 997 0062 5860     		str	r0, [r3, #4]
 998 0064 04E0     		b	.L174
 999              	.L175:
 1000 0066 FFF7FEFF 		bl	dbg_check_unlock
 1001 006a 0023     		movs	r3, #0
 1002              	@ 888 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 1003 006c 83F31188 		msr     BASEPRI, r3
 1004              	@ 0 "" 2
 1005              		.thumb
 1006              	.L174:
 1007 0070 228B     		ldrh	r2, [r4, #24]
 1008 0072 9107     		lsls	r1, r2, #30
 1009 0074 4FF02003 		mov	r3, #32
 1010 0078 02D4     		bmi	.L177
 1011 007a 2288     		ldrh	r2, [r4]
 1012 007c 9205     		lsls	r2, r2, #22
 1013 007e 0DD5     		bpl	.L194
 1014              	.L177:
 1015              	@ 885 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 19


 1016 0080 83F31188 		msr     BASEPRI, r3
 1017              	@ 0 "" 2
 1018              		.thumb
 1019 0084 FFF7FEFF 		bl	dbg_check_lock
 1020 0088 681C     		adds	r0, r5, #1
 1021 008a ECD0     		beq	.L175
 1022 008c 049A     		ldr	r2, [sp, #16]
 1023 008e 002A     		cmp	r2, #0
 1024 0090 E9D1     		bne	.L175
 1025              	.L179:
 1026 0092 4FF0FF30 		mov	r0, #-1
 1027 0096 07B0     		add	sp, sp, #28
 1028              		@ sp needed
 1029 0098 BDE8F089 		pop	{r4, r5, r6, r7, r8, fp, pc}
 1030              	.L194:
 1031              	@ 892 "chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c" 1
 1032 009c 83F31188 		msr     BASEPRI, r3
 1033              	@ 0 "" 2
 1034              		.thumb
 1035 00a0 FFF7FEFF 		bl	dbg_check_lock
 1036 00a4 0135     		adds	r5, r5, #1
 1037 00a6 20D0     		beq	.L178
 1038 00a8 049B     		ldr	r3, [sp, #16]
 1039 00aa 002B     		cmp	r3, #0
 1040 00ac F1D0     		beq	.L179
 1041 00ae A388     		ldrh	r3, [r4, #4]
 1042 00b0 9BB2     		uxth	r3, r3
 1043 00b2 43F40073 		orr	r3, r3, #512
 1044 00b6 A380     		strh	r3, [r4, #4]	@ movhi
 1045 00b8 40F20005 		movw	r5, #:lower16:rlist
 1046 00bc 2288     		ldrh	r2, [r4]
 1047 00be C0F20005 		movt	r5, #:upper16:rlist
 1048 00c2 92B2     		uxth	r2, r2
 1049 00c4 AB69     		ldr	r3, [r5, #24]
 1050 00c6 42F48072 		orr	r2, r2, #256
 1051 00ca 2280     		strh	r2, [r4]	@ movhi
 1052 00cc 0220     		movs	r0, #2
 1053 00ce C8F81C30 		str	r3, [r8, #28]
 1054 00d2 FFF7FEFF 		bl	chSchGoSleepS
 1055 00d6 049B     		ldr	r3, [sp, #16]
 1056 00d8 13B1     		cbz	r3, .L181
 1057 00da 01A8     		add	r0, sp, #4
 1058 00dc FFF7FEFF 		bl	chVTResetI
 1059              	.L181:
 1060 00e0 AB69     		ldr	r3, [r5, #24]
 1061 00e2 986A     		ldr	r0, [r3, #40]
 1062 00e4 07B0     		add	sp, sp, #28
 1063              		@ sp needed
 1064 00e6 BDE8F089 		pop	{r4, r5, r6, r7, r8, fp, pc}
 1065              	.L178:
 1066 00ea A388     		ldrh	r3, [r4, #4]
 1067 00ec 9BB2     		uxth	r3, r3
 1068 00ee 43F40073 		orr	r3, r3, #512
 1069 00f2 A380     		strh	r3, [r4, #4]	@ movhi
 1070 00f4 40F20005 		movw	r5, #:lower16:rlist
 1071 00f8 2288     		ldrh	r2, [r4]
 1072 00fa C0F20005 		movt	r5, #:upper16:rlist
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 20


 1073 00fe 92B2     		uxth	r2, r2
 1074 0100 AB69     		ldr	r3, [r5, #24]
 1075 0102 42F48072 		orr	r2, r2, #256
 1076 0106 2280     		strh	r2, [r4]	@ movhi
 1077 0108 0220     		movs	r0, #2
 1078 010a C8F81C30 		str	r3, [r8, #28]
 1079 010e FFF7FEFF 		bl	chSchGoSleepS
 1080 0112 E5E7     		b	.L181
 1081              		.size	i2c_lld_master_transmit_timeout, .-i2c_lld_master_transmit_timeout
 1082              		.global	I2CD1
 1083 0114 AFF30080 		.section	.rodata.str1.4,"aMS",%progbits,1
 1083      AFF30080 
 1083      AFF30080 
 1084              		.align	2
 1085              	.LC0:
 1086 0000 6932635F 		.ascii	"i2c_lld_start(), #1\000"
 1086      6C6C645F 
 1086      73746172 
 1086      7428292C 
 1086      20233100 
 1087              	.LC1:
 1088 0014 6932635F 		.ascii	"i2c_lld_start(), #2\000"
 1088      6C6C645F 
 1088      73746172 
 1088      7428292C 
 1088      20233200 
 1089              	.LC2:
 1090 0028 22693263 		.ascii	"\"i2c_lld_set_clock\"()\000"
 1090      5F6C6C64 
 1090      5F736574 
 1090      5F636C6F 
 1090      636B2228 
 1091 003e 0000     		.space	2
 1092              	.LC3:
 1093 0040 63686962 		.ascii	"chibios/os/hal/platforms/STM32/I2Cv1/i2c_lld.c\000"
 1093      696F732F 
 1093      6F732F68 
 1093      616C2F70 
 1093      6C617466 
 1094 006f 00       		.space	1
 1095              	.LC4:
 1096 0070 6932635F 		.ascii	"i2c_lld_set_clock(), #1\000"
 1096      6C6C645F 
 1096      7365745F 
 1096      636C6F63 
 1096      6B28292C 
 1097              	.LC5:
 1098 0088 6932635F 		.ascii	"i2c_lld_set_clock(), #2\000"
 1098      6C6C645F 
 1098      7365745F 
 1098      636C6F63 
 1098      6B28292C 
 1099              	.LC6:
 1100 00a0 6932635F 		.ascii	"i2c_lld_set_clock(), #3\000"
 1100      6C6C645F 
 1100      7365745F 
 1100      636C6F63 
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 21


 1100      6B28292C 
 1101              	.LC7:
 1102 00b8 6932635F 		.ascii	"i2c_lld_set_clock(), #4\000"
 1102      6C6C645F 
 1102      7365745F 
 1102      636C6F63 
 1102      6B28292C 
 1103              	.LC8:
 1104 00d0 6932635F 		.ascii	"i2c_lld_set_clock(), #5\000"
 1104      6C6C645F 
 1104      7365745F 
 1104      636C6F63 
 1104      6B28292C 
 1105              	.LC9:
 1106 00e8 6932635F 		.ascii	"i2c_lld_set_clock(), #6\000"
 1106      6C6C645F 
 1106      7365745F 
 1106      636C6F63 
 1106      6B28292C 
 1107              	.LC10:
 1108 0100 6932635F 		.ascii	"i2c_lld_set_clock(), #8\000"
 1108      6C6C645F 
 1108      7365745F 
 1108      636C6F63 
 1108      6B28292C 
 1109              		.section	.bss.I2CD1,"aw",%nobits
 1110              		.align	2
 1111              		.set	.LANCHOR0,. + 0
 1112              		.type	I2CD1, %object
 1113              		.size	I2CD1, 56
 1114              	I2CD1:
 1115 0000 00000000 		.space	56
 1115      00000000 
 1115      00000000 
 1115      00000000 
 1115      00000000 
 1116              		.ident	"GCC: (Sourcery CodeBench Lite 2013.11-24) 4.8.1"
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 i2c_lld.c
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:17     .text.i2c_lld_abort_operation:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:22     .text.i2c_lld_abort_operation:00000000 i2c_lld_abort_operation
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:66     .text.i2c_lld_safety_timeout:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:71     .text.i2c_lld_safety_timeout:00000000 i2c_lld_safety_timeout
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:102    .text.i2c_lld_serve_tx_end_irq:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:107    .text.i2c_lld_serve_tx_end_irq:00000000 i2c_lld_serve_tx_end_irq
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:140    .text.i2c_lld_serve_rx_end_irq:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:145    .text.i2c_lld_serve_rx_end_irq:00000000 i2c_lld_serve_rx_end_irq
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:208    .text.VectorBC:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:214    .text.VectorBC:00000000 VectorBC
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1111   .bss.I2CD1:00000000 .LANCHOR0
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:356    .text.VectorC0:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:362    .text.VectorC0:00000000 VectorC0
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:479    .text.i2c_lld_init:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:485    .text.i2c_lld_init:00000000 i2c_lld_init
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:506    .text.i2c_lld_init:0000002c $d
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:509    .text.i2c_lld_start:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:515    .text.i2c_lld_start:00000000 i2c_lld_start
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1089   .rodata.str1.4:00000028 .LC2
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1092   .rodata.str1.4:00000040 .LC3
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1095   .rodata.str1.4:00000070 .LC4
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1107   .rodata.str1.4:00000100 .LC10
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1101   .rodata.str1.4:000000b8 .LC7
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1099   .rodata.str1.4:000000a0 .LC6
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1097   .rodata.str1.4:00000088 .LC5
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1103   .rodata.str1.4:000000d0 .LC8
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1105   .rodata.str1.4:000000e8 .LC9
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1087   .rodata.str1.4:00000014 .LC1
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1085   .rodata.str1.4:00000000 .LC0
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:782    .text.i2c_lld_stop:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:788    .text.i2c_lld_stop:00000000 i2c_lld_stop
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:820    .text.i2c_lld_master_receive_timeout:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:826    .text.i2c_lld_master_receive_timeout:00000000 i2c_lld_master_receive_timeout
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:948    .text.i2c_lld_master_transmit_timeout:00000000 $t
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:954    .text.i2c_lld_master_transmit_timeout:00000000 i2c_lld_master_transmit_timeout
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1114   .bss.I2CD1:00000000 I2CD1
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1084   .rodata.str1.4:00000000 $d
C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s:1110   .bss.I2CD1:00000000 $d

UNDEFINED SYMBOLS
dbg_check_lock_from_isr
chSchReadyI
dbg_check_unlock_from_isr
port_halt
dbg_check_enter_isr
dbg_check_leave_isr
_port_irq_epilogue
i2cObjectInit
_stm32_dma_streams
chDbgPanic3
chDbgPanic
dmaStreamAllocate
nvicEnableVector
dmaStreamRelease
nvicDisableVector
ARM GAS  C:\Users\pc\AppData\Local\Temp\ccOoxNDb.s 			page 23


chVTSetI
dbg_check_unlock
dbg_check_lock
rlist
chSchGoSleepS
chVTResetI
