GAS LISTING /cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s 			page 1


   1              		.file	"chmsg.c"
   2              		.section .rdata,"dr"
   3              	LC0:
   4 0000 2263684D 		.ascii "\"chMsgSend\"()\0"
   4      73675365 
   4      6E642228 
   4      2900
   5              		.section	.text$chMsgSend,"x"
   6              		.p2align 4,,15
   7              		.globl	_chMsgSend
   8              		.def	_chMsgSend;	.scl	2;	.type	32;	.endef
   9              	_chMsgSend:
  10              	LFB7:
  11              		.cfi_startproc
  12 0000 56       		pushl	%esi
  13              		.cfi_def_cfa_offset 8
  14              		.cfi_offset 6, -8
  15 0001 53       		pushl	%ebx
  16              		.cfi_def_cfa_offset 12
  17              		.cfi_offset 3, -12
  18 0002 83EC14   		subl	$20, %esp
  19              		.cfi_def_cfa_offset 32
  20 0005 8B1D1800 		movl	_rlist+24, %ebx
  20      0000
  21 000b 8B742420 		movl	32(%esp), %esi
  22 000f 85F6     		testl	%esi, %esi
  23 0011 744D     		je	L6
  24              	L2:
  25              	/APP
  26              	 # 80 "../firmware/chibios/os/kernel/src/chmsg.c" 1
  27 0013 90       		nop
  28              	 # 0 "" 2
  29              	/NO_APP
  30 0014 E8000000 		call	_dbg_check_lock
  30      00
  31 0019 8B442424 		movl	36(%esp), %eax
  32 001d 807E1C0C 		cmpb	$12, 28(%esi)
  33 0021 894334   		movl	%eax, 52(%ebx)
  34 0024 8D462C   		leal	44(%esi), %eax
  35 0027 8903     		movl	%eax, (%ebx)
  36 0029 894324   		movl	%eax, 36(%ebx)
  37 002c 8B4630   		movl	48(%esi), %eax
  38 002f 894304   		movl	%eax, 4(%ebx)
  39 0032 895E30   		movl	%ebx, 48(%esi)
  40 0035 8918     		movl	%ebx, (%eax)
  41 0037 741D     		je	L7
  42              	L3:
  43 0039 C704240A 		movl	$10, (%esp)
  43      000000
  44 0040 E8000000 		call	_chSchGoSleepS
  44      00
  45 0045 8B5B24   		movl	36(%ebx), %ebx
  46 0048 E8000000 		call	_dbg_check_unlock
  46      00
  47              	/APP
  48              	 # 88 "../firmware/chibios/os/kernel/src/chmsg.c" 1
  49 004d 90       		nop
GAS LISTING /cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s 			page 2


  50              	 # 0 "" 2
  51              	/NO_APP
  52 004e 83C414   		addl	$20, %esp
  53              		.cfi_remember_state
  54              		.cfi_def_cfa_offset 12
  55 0051 89D8     		movl	%ebx, %eax
  56 0053 5B       		popl	%ebx
  57              		.cfi_restore 3
  58              		.cfi_def_cfa_offset 8
  59 0054 5E       		popl	%esi
  60              		.cfi_restore 6
  61              		.cfi_def_cfa_offset 4
  62 0055 C3       		ret
  63              		.p2align 4,,7
  64              	L7:
  65              		.cfi_restore_state
  66 0056 893424   		movl	%esi, (%esp)
  67 0059 E8000000 		call	_chSchReadyI
  67      00
  68 005e EBD9     		jmp	L3
  69              		.p2align 4,,7
  70              	L6:
  71 0060 C7042400 		movl	$LC0, (%esp)
  71      000000
  72 0067 E8000000 		call	_chDbgPanic
  72      00
  73 006c EBA5     		jmp	L2
  74              		.cfi_endproc
  75              	LFE7:
  76 006e 9090     		.section	.text$chMsgWait,"x"
  77              		.p2align 4,,15
  78              		.globl	_chMsgWait
  79              		.def	_chMsgWait;	.scl	2;	.type	32;	.endef
  80              	_chMsgWait:
  81              	LFB8:
  82              		.cfi_startproc
  83 0000 53       		pushl	%ebx
  84              		.cfi_def_cfa_offset 8
  85              		.cfi_offset 3, -8
  86 0001 83EC18   		subl	$24, %esp
  87              		.cfi_def_cfa_offset 32
  88              	/APP
  89              	 # 109 "../firmware/chibios/os/kernel/src/chmsg.c" 1
  90 0004 90       		nop
  91              	 # 0 "" 2
  92              	/NO_APP
  93 0005 E8000000 		call	_dbg_check_lock
  93      00
  94 000a A1180000 		movl	_rlist+24, %eax
  94      00
  95 000f 8B582C   		movl	44(%eax), %ebx
  96 0012 8D502C   		leal	44(%eax), %edx
  97 0015 39D3     		cmpl	%edx, %ebx
  98 0017 7419     		je	L11
  99              	L9:
 100 0019 8B0B     		movl	(%ebx), %ecx
 101 001b 89482C   		movl	%ecx, 44(%eax)
GAS LISTING /cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s 			page 3


 102 001e 895104   		movl	%edx, 4(%ecx)
 103 0021 C6431C0B 		movb	$11, 28(%ebx)
 104 0025 E8000000 		call	_dbg_check_unlock
 104      00
 105              	/APP
 106              	 # 114 "../firmware/chibios/os/kernel/src/chmsg.c" 1
 107 002a 90       		nop
 108              	 # 0 "" 2
 109              	/NO_APP
 110 002b 83C418   		addl	$24, %esp
 111              		.cfi_remember_state
 112              		.cfi_def_cfa_offset 8
 113 002e 89D8     		movl	%ebx, %eax
 114 0030 5B       		popl	%ebx
 115              		.cfi_restore 3
 116              		.cfi_def_cfa_offset 4
 117 0031 C3       		ret
 118              		.p2align 4,,7
 119              	L11:
 120              		.cfi_restore_state
 121 0032 C704240C 		movl	$12, (%esp)
 121      000000
 122 0039 E8000000 		call	_chSchGoSleepS
 122      00
 123 003e A1180000 		movl	_rlist+24, %eax
 123      00
 124 0043 8B582C   		movl	44(%eax), %ebx
 125 0046 8D502C   		leal	44(%eax), %edx
 126 0049 EBCE     		jmp	L9
 127              		.cfi_endproc
 128              	LFE8:
 129 004b 90909090 		.section .rdata,"dr"
 129      90
 130              	LC1:
 131 000e 63684D73 		.ascii "chMsgRelease(), #1\0"
 131      6752656C 
 131      65617365 
 131      28292C20 
 131      233100
 132 0021 000000   		.section	.text$chMsgRelease,"x"
 133              		.p2align 4,,15
 134              		.globl	_chMsgRelease
 135              		.def	_chMsgRelease;	.scl	2;	.type	32;	.endef
 136              	_chMsgRelease:
 137              	LFB9:
 138              		.cfi_startproc
 139 0000 53       		pushl	%ebx
 140              		.cfi_def_cfa_offset 8
 141              		.cfi_offset 3, -8
 142 0001 83EC18   		subl	$24, %esp
 143              		.cfi_def_cfa_offset 32
 144 0004 8B5C2420 		movl	32(%esp), %ebx
 145              	/APP
 146              	 # 130 "../firmware/chibios/os/kernel/src/chmsg.c" 1
 147 0008 90       		nop
 148              	 # 0 "" 2
 149              	/NO_APP
GAS LISTING /cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s 			page 4


 150 0009 E8000000 		call	_dbg_check_lock
 150      00
 151 000e 807B1C0B 		cmpb	$11, 28(%ebx)
 152 0012 740C     		je	L13
 153 0014 C704240E 		movl	$LC1, (%esp)
 153      000000
 154 001b E8000000 		call	_chDbgPanic
 154      00
 155              	L13:
 156 0020 8B442424 		movl	36(%esp), %eax
 157 0024 891C24   		movl	%ebx, (%esp)
 158 0027 89442404 		movl	%eax, 4(%esp)
 159 002b E8000000 		call	_chSchWakeupS
 159      00
 160 0030 E8000000 		call	_dbg_check_unlock
 160      00
 161              	/APP
 162              	 # 134 "../firmware/chibios/os/kernel/src/chmsg.c" 1
 163 0035 90       		nop
 164              	 # 0 "" 2
 165              	/NO_APP
 166 0036 83C418   		addl	$24, %esp
 167              		.cfi_def_cfa_offset 8
 168 0039 5B       		popl	%ebx
 169              		.cfi_restore 3
 170              		.cfi_def_cfa_offset 4
 171 003a C3       		ret
 172              		.cfi_endproc
 173              	LFE9:
 174              		.def	_dbg_check_lock;	.scl	2;	.type	32;	.endef
 175              		.def	_chSchGoSleepS;	.scl	2;	.type	32;	.endef
 176              		.def	_dbg_check_unlock;	.scl	2;	.type	32;	.endef
 177              		.def	_chSchReadyI;	.scl	2;	.type	32;	.endef
 178              		.def	_chDbgPanic;	.scl	2;	.type	32;	.endef
 179 003b 90909090 		.def	_chSchWakeupS;	.scl	2;	.type	32;	.endef
 179      90
GAS LISTING /cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 chmsg.c
/cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s:9      .text$chMsgSend:00000000 _chMsgSend
/cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s:80     .text$chMsgWait:00000000 _chMsgWait
/cygdrive/c/Users/pc/AppData/Local/Temp/ccbH3iHn.s:136    .text$chMsgRelease:00000000 _chMsgRelease

UNDEFINED SYMBOLS
_rlist
_dbg_check_lock
_chSchGoSleepS
_dbg_check_unlock
_chSchReadyI
_chDbgPanic
_chSchWakeupS
